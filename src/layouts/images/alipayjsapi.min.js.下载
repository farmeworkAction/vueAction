!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.ES6Promise=t()}(this,function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function t(e){return"function"==typeof e}function n(){return void 0!==M?function(){M(o)}:r()}function r(){var e=setTimeout;return function(){return e(o,1)}}function o(){for(var e=0;e<L;e+=2)(0,H[e])(H[e+1]),H[e]=void 0,H[e+1]=void 0;L=0}function a(e,t){var n=arguments,r=this,o=new this.constructor(u);void 0===o[J]&&C(o);var a=r._state;return a?function(){var e=n[a-1];O(function(){return P(a,o,e,r._result)})}():_(r,o,e,t),o}function i(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(u);return p(n,e),n}function u(){}function c(){return new TypeError("You cannot resolve a promise with itself")}function s(){return new TypeError("A promises callback cannot return that same promise.")}function l(e){try{return e.then}catch(e){return Y.error=e,Y}}function f(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function d(e,t,n){O(function(e){var r=!1,o=f(n,t,function(n){r||(r=!0,t!==n?p(e,n):g(e,n))},function(t){r||(r=!0,b(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&o&&(r=!0,b(e,o))},e)}function h(e,t){t._state===W?g(e,t._result):t._state===Q?b(e,t._result):_(t,void 0,function(t){return p(e,t)},function(t){return b(e,t)})}function v(e,n,r){n.constructor===e.constructor&&r===a&&n.constructor.resolve===i?h(e,n):r===Y?(b(e,Y.error),Y.error=null):void 0===r?g(e,n):t(r)?d(e,n,r):g(e,n)}function p(t,n){t===n?b(t,c()):e(n)?v(t,n,l(n)):g(t,n)}function m(e){e._onerror&&e._onerror(e._result),y(e)}function g(e,t){e._state===$&&(e._result=t,e._state=W,0!==e._subscribers.length&&O(y,e))}function b(e,t){e._state===$&&(e._state=Q,e._result=t,O(m,e))}function _(e,t,n,r){var o=e._subscribers,a=o.length;e._onerror=null,o[a]=t,o[a+W]=n,o[a+Q]=r,0===a&&e._state&&O(y,e)}function y(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,a=e._result,i=0;i<t.length;i+=3)r=t[i],o=t[i+n],r?P(n,r,o,a):o(a);e._subscribers.length=0}}function w(){this.error=null}function A(e,t){try{return e(t)}catch(e){return G.error=e,G}}function P(e,n,r,o){var a=t(r),i=void 0,u=void 0,c=void 0,l=void 0;if(a){if((i=A(r,o))===G?(l=!0,u=i.error,i.error=null):c=!0,n===i)return void b(n,s())}else i=o,c=!0;n._state!==$||(a&&c?p(n,i):l?b(n,u):e===W?g(n,i):e===Q&&b(n,i))}function S(e,t){try{t(function(t){p(e,t)},function(t){b(e,t)})}catch(t){b(e,t)}}function B(){return Z++}function C(e){e[J]=Z++,e._state=void 0,e._result=void 0,e._subscribers=[]}function D(e,t){this._instanceConstructor=e,this.promise=new e(u),this.promise[J]||C(this.promise),x(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?g(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&g(this.promise,this._result))):b(this.promise,k())}function k(){return new Error("Array Methods must be provided an Array")}function T(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function E(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function I(e){this[J]=B(),this._result=this._state=void 0,this._subscribers=[],u!==e&&("function"!=typeof e&&T(),this instanceof I?S(this,e):E())}var R=void 0,x=R=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},L=0,M=void 0,N=void 0,O=function(e,t){H[L]=e,H[L+1]=t,2===(L+=2)&&(N?N(o):q())},F="undefined"!=typeof window?window:void 0,V=F||{},U=V.MutationObserver||V.WebKitMutationObserver,z="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),j="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,H=new Array(1e3),q=void 0;q=z?function(){return process.nextTick(o)}:U?function(){var e=0,t=new U(o),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():j?function(){var e=new MessageChannel;return e.port1.onmessage=o,function(){return e.port2.postMessage(0)}}():void 0===F&&"function"==typeof require?function(){try{var e=require("vertx");return M=e.runOnLoop||e.runOnContext,n()}catch(e){return r()}}():r();var J=Math.random().toString(36).substring(16),$=void 0,W=1,Q=2,Y=new w,G=new w,Z=0;return D.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===$&&n<e;n++)this._eachEntry(t[n],n)},D.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===i){var o=l(e);if(o===a&&e._state!==$)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===I){var c=new n(u);v(c,e,o),this._willSettleAt(c,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},D.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===$&&(this._remaining--,e===Q?b(r,n):this._result[t]=n),0===this._remaining&&g(r,this._result)},D.prototype._willSettleAt=function(e,t){var n=this;_(e,void 0,function(e){return n._settledAt(W,t,e)},function(e){return n._settledAt(Q,t,e)})},I.all=function(e){return new D(this,e).promise},I.race=function(e){var t=this;return new t(x(e)?function(n,r){for(var o=e.length,a=0;a<o;a++)t.resolve(e[a]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})},I.resolve=i,I.reject=function(e){var t=new this(u);return b(t,e),t},I._setScheduler=function(e){N=e},I._setAsap=function(e){O=e},I._asap=O,I.prototype={constructor:I,then:a,catch:function(e){return this.then(null,e)}},I.polyfill=function(){var e=void 0;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=I},I.Promise=I,I.polyfill(),I}),function(e){"use strict";function t(){return(te=te||e[ee])&&te.call}function n(e){return/\w+Sync$/.test(e)}function r(e,t){setTimeout(function(){e(t)},1)}function o(e){return/^[a-z0-9|]+$/i.test(e)}function a(e,t){var n=!1;return t=t||"data",R(e,"_")?(e[t]=e._,delete e._):(x(e,function(e){e!==t&&(n=!0)}),n&&(n=e,(e={})[t]=n)),e}function i(e,t,n){var r,o=!1;return V(e)||(oe.EVENTS||(oe.EVENTS={}),oe.EVENTS[e]||(oe.EVENTS[e]={callbacks:[]}),oe.EVENTS[e].callbacks||(oe.EVENTS[e].callbacks=[]),oe.EVENTS[e].callbacks.forEach(function(e,n){e.cb===t&&(o=e,r=n)}),n&&$(r)&&oe.EVENTS[e].callbacks.splice(r,1)),o}function u(e,t,n,r){i(e,t)||oe.EVENTS[e].callbacks.push({cb:t,_cb:n,_cbSFC:r})}function c(e,t){var n=i(e,t,!0);H(t)?n&&ie.off(e,n._cb):(oe.EVENTS[e].callbacks.forEach(function(t){ie.off(e,t._cb)}),oe.EVENTS[e].callbacks=[])}function s(e){return f("on",e)}function l(e){return f("off",e)}function f(e,t){var n=ae[t],r=!1,o="off"===e?/^off([A-Z])(\w+)/:/^on([A-Z])(\w+)/;return n&&o.test(t)&&(t=t.match(o),!(r=n.m)&&t[1]&&t[2]&&(r=M(t[1])+t[2])),r}function d(e,t){var n=ae[e]||{};return(n.e||n.extra||{})[t]}function h(e){var t=ae[e];return t&&t.m?t.m:e}function v(e,t,n){var r=ae[e],o=r&&r.b?r.b(K({},t),n):t,a=d(e,"optionModifier");if(H(a)){var i=a(o,n);J(i)&&(o=i)}return o}function p(e,t){var n={};return t=t||{},H(t.success)&&(n.success=t.success,delete t.success),H(t.fail)&&(n.fail=t.fail,delete t.fail),H(t.complete)&&(n.complete=t.complete,delete t.complete),n}function m(e){var t=ae[e];return!(!t||!t.d)&&t.d}function g(e,t,n,r,o){var a=ae[e],i=a&&a.a?a.a(Y(t)?t:K({},t),n,r,o):K({},t),u=d(e,"resultModifier");if(H(u)){var c=u(i,n,r,o);J(c)&&(i=c)}return i}function b(e,t){return R(t,"error")&&(t.error=parseInt(t.error,10)),!1!==d(e,"handleResultSuccess")&&_(t),0===t.error&&(delete t.error,delete t.errorMessage),t.error>0&&t.error<10&&console.error(e,t),t}function _(e,t,n){return n=!V(n)&&n,R(e,"error")||e.success!==n||(e.error=$(t)?t:2),delete e.success,e}function y(e){var t={};return V(e.data)||(t=J(t=e.data)?t:{data:t}),t}function w(e){var t=(e||"").match(/(\w+)(%\w)$/i),n={k:e};return t&&(n.k=t[1],n.t=t[2]),n}function A(e,t){return"%s"===e&&(t=D(t)),"%c"===e&&(t=k(t)),"%b"===e&&(t=T(t)),"%d"===e&&(t=parseInt(t,10)),"%f"===e&&(t=parseFloat(t)),t}function P(e,t,n){var r;return n=n||{},x(t,function(o,a){!V(a=(r=w(t[o])).k)&&(R(e,o)||R(n,o))&&V(e[a])&&(e[a]=A(r.t,V(n[o])?e[o]:n[o]),a!==o&&delete e[o])}),e}function S(){var e,t,n,r,o,a;ie.debug&&(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2],r=arguments.length<=3?void 0:arguments[3],o=arguments.length<=4?void 0:arguments[4],a=[arguments.length>3?"RETURN>":"INVOKE>",e,R(t,"_")?t._:t,n],arguments.length>3&&a.push(r),arguments.length>4&&a.push(o),console.info(a))}function B(e){return e.test(ne)}function C(){if(void 0===X){var t=!1,n=e.Promise;if(n){var r=null,o=null;try{o=(r=n.resolve()).then}catch(e){}r instanceof n&&H(o)&&!n.cast&&(t=!0)}t||console.warn("当前浏览器不支持 Promise，你仍然可以通过回调方式使用 AlipayJSAPI。"),X=t}return X}function D(e){var t=e;if(J(e)||W(e))try{t=JSON.stringify(e)}catch(e){}else t=e+"";return t}function k(e){var t=""+e;return 0===t.indexOf("#")&&(t=t.substr(1)),3===t.length&&(t=t.replace(/(.)/g,"$1$1")),t=parseInt(t,16),z(t)&&console.error(e+" is invalid hex color."),t}function T(e){return q(e)&&(e=e.replace(/^data:(\/|\w|\-|\.)+;base64,/i,"")),e}function E(e){var t=[];return x(e,function(e,n){t.push(e+"="+encodeURIComponent(V(n)?"":n))}),t=t.join("&")}function I(e,t){var n=t;return J(t)&&(n=E(t)),/\?/.test(e)?/&$/.test(e)||/\?$/.test(e)||(n="&"+n):n="?"+n,e+n}function R(e,t){return!(!J(e)&&!W(e))&&e.hasOwnProperty(t)}function x(e,t){var n,r;if(Q(e)){for(n=0;n<e.length;n++)if(!1===t(n,e[n]))return e}else for(r in e)if(!1===t(r,e[r]))return e;return e}function L(e){try{e=JSON.parse(e)}catch(t){console.warn(t,e)}return e}function M(e){return q(e)&&(e=e.toLowerCase()),e}function N(e){return q(e)&&(e=e.toUpperCase()),e}function O(){return B(/android/i)}function F(){return B(/iPad|iPod|iPhone|iOS/i)}function V(e){return"undefined"===G(e)}function U(e){return"null"===G(e)}function z(e){return"NaN"===parseInt(e,10).toString()}function j(e){return"boolean"===G(e)}function H(e){return"function"===G(e)}function q(e){return"string"===G(e)}function J(e){return"object"===G(e)}function $(e){return"number"===G(e)}function W(e){return"array"===G(e)}function Q(e){return!!e&&!H(e)&&(W(e)||$(e.length))}function Y(e){return"event"===G(e)}function G(e){return Object.prototype.toString.call(e).replace(/\[object (\w+)\]/,"$1").toLowerCase()}function Z(e){for(var t in e)return!1;return!0}function K(e){var t,n;if(!J(e))return e;for(var r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];for(var i=0,u=o.length;i<u;i++){t=o[i];for(n in t)hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}var X,ee="AlipayJSBridge",te=e[ee],ne=navigator.userAgent||navigator.swuserAgent,re=[],oe={getBAPSI:{isListening:!1,lastState:2,on:function(){oe.getBAPSI.isListening||(te.call("startMonitorBackgroundAudio"),oe.getBAPSI.isListening=!0,ie.on("getBackgroundAudioPlayedStateInfo",oe.getBAPSI.listener))},off:function(){ie.off("getBackgroundAudioPlayedStateInfo",oe.getBAPSI.listener),te.call("stopMonitorBackgroundAudio"),oe.getBAPSI.isListening=!1},listener:function(e){var t,n=(e.data||{}).status;switch(n){case 0:t="backgroundAudioPause";break;case 1:t="backgroundAudioPlay";break;case 2:t="backgroundAudioStop";break;default:t=void 0}t&&n!==oe.getBAPSI.lastState&&(ie.trigger(t),oe.getBAPSI.lastState=n)}}},ae={openBluetoothAdapter:{e:{caniuse:{_minv:"10.0.15"}}},closeBluetoothAdapter:{e:{caniuse:{_minv:"10.0.15"}}},getBluetoothAdapterState:{e:{caniuse:{_minv:"10.0.15"}}},startBluetoothDevicesDiscovery:{b:function(e){return q(e._)&&(e._=[e._]),P(e,{_:"services"}),e},e:{caniuse:{_minv:"10.0.15"}}},stopBluetoothDevicesDiscovery:{e:{caniuse:{_minv:"10.0.15"}}},getBluetoothDevices:{b:function(e){return q(e._)&&(e._=[e._]),P(e,{_:"services"}),e},a:function(e){return W(e.devices)&&x(e.devices,function(e,t){P(t,{manufacturerData:"advertisData"})}),e},e:{caniuse:{_minv:"10.0.15"}}},getConnectedBluetoothDevices:{a:function(e){return W(e.devices)&&x(e.devices,function(e,t){P(t,{manufacturerData:"advertisData"})}),e},e:{caniuse:{_minv:"10.0.15"}}},connectBLEDevice:{b:function(e){return P(e,{_:"deviceId"}),e},e:{caniuse:{_minv:"10.0.15"}}},disconnectBLEDevice:{e:{caniuse:{_minv:"10.0.15"}}},writeBLECharacteristicValue:{e:{caniuse:{_minv:"10.0.15"}}},readBLECharacteristicValue:{e:{caniuse:{_minv:"10.0.15"}}},notifyBLECharacteristicValueChange:{e:{caniuse:{_minv:"10.0.15"}}},getBLEDeviceServices:{b:function(e){return P(e,{_:"deviceId"}),e},e:{caniuse:{_minv:"10.0.15"}}},getBLEDeviceCharacteristics:{e:{caniuse:{_minv:"10.0.15"}}},onBLECharacteristicValueChange:{m:"BLECharacteristicValueChange",e:{caniuse:{_minv:"10.0.15"}}},offBLECharacteristicValueChange:{m:"BLECharacteristicValueChange"},onBluetoothAdapterStateChange:{e:{caniuse:{_minv:"10.0.15"}}},offBluetoothAdapterStateChange:{},onBLEConnectionStateChanged:{m:"BLEConnectionStateChanged",e:{caniuse:{_minv:"10.0.15"}}},offBLEConnectionStateChanged:{m:"BLEConnectionStateChanged"},onBluetoothDeviceFound:{a:function(e){return P(e,{manufacturerData:"advertisData"})},e:{caniuse:{_minv:"10.0.15"}}},offBluetoothDeviceFound:{},pushBizWindow:{},compressImage:{b:function(e){return e.level=V(e.level)?4:e.level,P(e,{_:"apFilePaths",level:"compressLevel%d"})},d:function(e,t){O()?te.call("compressImage",e,t):r(t,{apFilePaths:e.apFilePaths||[]})},e:{caniuse:{_minv:"10.0.12"}}},getLaunchParams:{d:function(e,t){ie.launchParams=window.ALIPAYH5STARTUPPARAMS||te.startupParams||{},H(t)&&t(ie.launchParams)}},openAPDeviceLib:{a:function(e){return J(e.result)&&(e.status=e.result.status,delete e.result),e}},closeAPDeviceLib:{a:function(e){return J(e.result)&&(e.status=e.result.status,delete e.result),e}},configAPDeviceLib:{a:function(e){return J(e.result)&&(e.status=e.result.status,delete e.result),e}},getAPDeviceInfos:{a:function(e){return J(e.result)&&(e.status=e.result.status,delete e.result),e}},sendDataToAPDevice:{a:function(e){return J(e.result)&&(e.status=e.result.status,delete e.result),e}},startScanAPDevice:{a:function(e){return J(e.result)&&(e.status=e.result.status,delete e.result),e}},stopScanAPDevice:{a:function(e){return J(e.result)&&(e.status=e.result.status,delete e.result),e}},connectAPDevice:{a:function(e){return J(e.result)&&(e.status=e.result.status,delete e.result),e}},disconnectAPDevice:{a:function(e){return J(e.result)&&(e.status=e.result.status,delete e.result),e}},onAPDeviceStateChange:{m:"onAPDeviceStateChange",a:function(e){var t={};return P(t,{deviceId:"deviceId",state:"state",connType:"connType"},J(e.data)?e.data:e),t},e:{handleEventData:!1}},offAPDeviceStateChange:{m:"onAPDeviceStateChange"},onReceiveDataFromAPDevice:{m:"onReceiveDataFromAPDevice",a:function(e){var t={};return P(t,{deviceId:"deviceId",data:"data",characteristicUUID:"characteristicUUID"},J(e.data)?e.data:e),t},e:{handleEventData:!1}},offReceiveDataFromAPDevice:{m:"onReceiveDataFromAPDevice"},onScanAPDeviceResult:{m:"onScanAPDeviceResult",a:function(e){var t={};return P(t,{deviceName:"deviceName",localName:"localName",RSSI:"RSSI",txPower:"txPower",serviceUUIDs:"serviceUUIDs",macAddr:"macAddr",uuid:"uuid",deviceId:"deviceId",manufacturerData:"manufacturerData"},J(e.data)?e.data:e),t},e:{handleEventData:!1}},offScanAPDeviceResult:{m:"onScanAPDeviceResult"},onAPDeviceBluetoothStateChange:{m:"onAPDeviceBluetoothStateChange",a:function(e){var t={};return P(t,{state:"state"},J(e.data)?e.data:e),t},e:{handleEventData:!1}},offAPDeviceBluetoothStateChange:{m:"onAPDeviceBluetoothStateChange"},onAPDeviceError:{m:"onAPDeviceError",a:function(e){var t={};return P(t,{deviceId:"deviceId",status:"status",errorReason:"errorReason"},J(e.data)?e.data:e),t},e:{handleEventData:!1}},offAPDeviceError:{m:"onAPDeviceError"},onSendDataToAPDevice:{m:"onSendDataToAPDevice",a:function(e){var t={};return P(t,{deviceId:"deviceId",characteristicUUID:"characteristicUUID"},J(e.data)?e.data:e),t},e:{handleEventData:!1}},offSendDataToAPDevice:{m:"onSendDataToAPDevice"},onTabClick:{},offTabClick:{},onShare:{m:"onShare",e:{caniuse:{_minv:"10.0.8"}}},offShare:{m:"onShare"},connectSocket:{b:function(e){return P(e,{headers:"header"})},e:{caniuse:{_minv:"10.0.8"}}},sendSocketMessage:{b:function(e){return P(e,{_:"data"})},e:{caniuse:{_minv:"10.0.8"}}},closeSocket:{e:{caniuse:{_minv:"10.0.8"}}},onSocketOpen:{e:{caniuse:{_minv:"10.0.8"}}},offSocketOpen:{},onSocketMessage:{e:{caniuse:{_minv:"10.0.8"}}},offSocketMessage:{},onSocketError:{e:{caniuse:{_minv:"10.0.8"}}},offSocketError:{},onSocketClose:{e:{caniuse:{_minv:"10.0.8"}}},offSocketClose:{},alert:{b:function(e){return e=P(e,{_:"content",content:"message%s",buttonText:"button%s"}),V(e.title)||(e.title=A("%s",e.title)),e}},confirm:{b:function(e){return e=P(e,{_:"content%s",content:"message%s",confirmButtonText:"okButton%s",cancelButtonText:"cancelButton%s"}),V(e.title)||(e.title=A("%s",e.title)),e},a:function(e){return P(e,{ok:"confirm"})}},showToast:{m:"toast",b:function(e){return P(e,{_:"content%s"}),q(e.content)||(e.content=A("%s",e.content)),e}},hideToast:{},showLoading:{b:function(e){return P(e,{_:"content",content:"text%s"})}},hideLoading:{},showNavigationBarLoading:{m:"showTitleLoading"},hideNavigationBarLoading:{m:"hideTitleLoading"},setNavigationBar:{b:function(e){var t="setTitle",n="setTitleColor",r="setBarBottomLineColor",o={};return o[t]={},o[n]={},o[r]={},o[t]=P(o[t],{_:"title",title:"title%s",image:"image%b"},e),o[n]=P(o[n],{backgroundColor:"color%c",reset:"reset"},e),o[r]=P(o[r],{borderBottomColor:"color%c"},e),o},d:function(e,t){var n="setTitle",o="setTitleColor",a="setBarBottomLineColor",i={};Z(e[n])||te.call(n,e[n]),Z(e[a])||(te.call(a,e[a]),z(e[a].color)&&(i.error=2,i.errorMessage="颜色值不合法")),Z(e[o])?r(t,i):te.call(o,e[o],function(e){i=K(e,i),t(i)})}},showTabBar:{b:function(e){if(e.action="create",e.activeIndex=e.activeIndex||0,P(e,{color:"textColor%c",activeColor:"selectedColor%c",activeIndex:"selectedIndex%d"}),W(e.items)){var t=e.items;e.items=[],t.forEach(function(t,n){t=P(K({},t),{title:"name%s",tag:"tag%s",icon:"icon%b",activeIcon:"activeIcon%b",badge:"redDot%s"},{tag:n,title:t.title,icon:t.icon,activeIcon:t.activeIcon,badge:V(t.badge)?"-1":t.badge}),e.items.push(t)})}return e},d:function(e,t,n){V(oe.showTabBar)?oe.showTabBar={opt:n}:console.error("showTabBar 只能调用一次"),ie.on("tabClick",function(e){var n={};P(n,{tag:"index%d"},{tag:J(e.data)&&e.data.tag?e.data.tag:"0"}),t(n)}),te.call("tabBar",e,function(e){b("showTabBar",e)})}},setTabBarBadge:{m:"tabBar",b:function(e){return e.action="redDot",P(e,{index:"tag%s",badge:"redDot%s"},{index:e.index}),e}},showActionSheet:{m:"actionSheet",b:function(e){if(P(e,{items:"btns",cancelButtonText:"cancelBtn%s"}),W(e.btns)){var t=e.btns;e.btns=[],t.forEach(function(t){return e.btns.push(t+"")})}return V(e.cancelBtn)&&(e.cancelBtn="取消"),e},a:function(e,t){return W(t.btns)&&e.index===t.btns.length&&(e.index=-1),e}},redirectTo:{b:function(e){return P(e,{_:"url"}),J(e.data)&&(e.url=I(e.url,e.data)),e},d:function(e){e.url&&window.location.replace(e.url)}},pushWindow:{b:function(e){return P(e,{_:"url",params:"param"}),e.url.indexOf("?")>-1&&console.warn("如需在 url 上携带数据，请使用 data 参数"),e.url.indexOf("__webview_options__")>-1&&console.warn("如需指定启动参数，请使用 params 参数"),J(e.data)&&(e.url=I(e.url,e.data),delete e.data),e}},popWindow:{b:function(e){return e=a(e),J(e.data)||(e.data={___forResume___:e.data}),e}},popTo:{b:function(e){return P(e,{_:function(){var t=void 0;return $(e._)&&(t="index"),q(e._)&&(t="urlPattern"),t}()}),J(e.data)||(e.data={___forResume___:e.data}),e}},allowPullDownRefresh:{d:function(e){var t="onPullDownRefresh";P(e,{_:"allow"}),e.allow=!!V(e.allow)||!!e.allow,J(oe[t])?oe[t].allow=e.allow:(oe[t]={allow:e.allow},ie.onPullDownRefresh()),oe[t].allow?te.call("restorePullToRefresh"):oe[t].event&&oe[t].event.preventDefault()}},choosePhoneContact:{m:"contact"},chooseAlipayContact:{m:"chooseContact",b:function(e){return P(e,{_:"count"}),V(e.count)&&(e.count=1),1===e.count?e.type="single":(e.type="multi",e.count<=0||e.count>10?e.multiMax=10:e.multiMax=e.count),delete e.count,e},a:function(e){return W(e.contacts)&&e.contacts.forEach(function(e){P(e,{headImageUrl:"avatar",name:"realName"}),delete e.from}),e}},share:{b:function(e){var t={},n={};return t.onlySelectChannel=["ALPContact","ALPTimeLine","ALPCommunity","Weibo","DingTalkSession","SMS","Weixin","WeixinTimeLine","QQ","QQZone"],R(e,"bizType")&&(t.bizType=e.bizType),n=K({},e),delete n.bizType,delete n.onlySelectChannel,P(n,{image:"imageUrl"}),oe.share={startShare:t,shareToChannel:n},e},d:function(e,t){!1===e.showToolBar&&te.call("setToolbarMenu",{menus:[],override:!0}),te.call("startShare",oe.share.startShare,function(e){var n=oe.share.shareToChannel;e.channelName?te.call("shareToChannel",{name:e.channelName,param:n},t):t(e)})}},datePicker:{b:function(e){switch(P(e,{_:"formate",formate:"mode",currentDate:"beginDate",startDate:"minDate",endDate:"maxDate"}),e.mode){case"HH:mm:ss":e.mode=0;break;case"yyyy-MM-dd":e.mode=1;break;case"yyyy-MM-dd HH:mm:ss":e.mode=2;break;default:e.mode=1}return e},a:function(e){return q(e.date)&&(e.date=e.date.replace(/\//g,"-").trim()),e}},chooseCity:{m:"getCities",b:function(e){function t(e){var t;return W(e)&&(t=[],e.forEach(function(e){t.push(P({},{city:"name",adCode:"adcode%s",spell:"pinyin"},e))}),e=t),e}var n,r;return P(e,{showHotCities:"needHotCity",cities:"customCities",hotCities:"customHotCities"}),!0===e.showLocatedCity?(e.currentCity="",e.adcode=""):(delete e.currentCity,delete e.adcode),delete e.showLocatedCity,n=e.customCities,V(e.customCities)||(e.customCities=t(n)),r=e.customHotCities,V(e.customHotCities)||(e.customHotCities=t(r)),e},a:function(e){return P(e,{adcode:"adCode"}),e}},onBack:{a:function(e){var t={};return J(oe.onBack)?oe.onBack.event=e:oe.onBack={event:e,allowButton:!0},!1===oe.onBack.allowButton&&e.preventDefault(),t.backAvailable=oe.onBack.allowButton,t},e:{handleEventData:!1}},offBack:{},onResume:{a:function(e){var t={};return V(e.data)||(t.data=e.data),R(t,"___forResume___")&&(t.data=t.___forResume___),t},e:{handleEventData:!1}},offResume:{},onPause:{},offPause:{},onPageResume:{a:function(e){var t={};return V(e.data)||(t.data=e.data),R(t,"___forResume___")&&(t.data=t.___forResume___),t},e:{handleEventData:!1}},offPageResume:{},onPagePause:{},offPagePause:{},onTitleClick:{},offTitleClick:{},onPullDownRefresh:{m:"firePullToRefresh",a:function(e){var t={},n="onPullDownRefresh";return J(oe[n])?oe[n].event=e:oe[n]={event:e,allow:!0},!1===oe[n].allow&&oe[n].event.preventDefault(),t.refreshAvailable=oe[n].allow,t},e:{handleEventData:!1}},offPullDownRefresh:{m:"firePullToRefresh"},onNetworkChange:{d:function(e,t,n,r){var o=function(){return ie.getNetworkType(t)};u("h5NetworkChange",r,o),ie.on("h5NetworkChange",o)}},offNetworkChange:{d:function(e,t,n,r){c("h5NetworkChange",r)}},onAccelerometerChange:{b:function(){te.call("watchShake",{monitorAccelerometer:!0})},a:function(e){var t={};return P(t,{x:"x",y:"y",z:"z"},J(e.data)?e.data:e),t},e:{handleEventData:!1}},offAccelerometerChange:{b:function(){te.call("watchShake",{monitorAccelerometer:!1})}},onCompassChange:{b:function(){te.call("watchShake",{monitorCompass:!0})},a:function(e){var t={};return P(t,{direction:"direction"},J(e.data)?e.data:e),t},e:{handleEventData:!1}},offCompassChange:{b:function(){te.call("watchShake",{monitorCompass:!1})}},onBackgroundAudioPlay:{b:function(e){return oe.getBAPSI.on(),e}},offBackgroundAudioPlay:{},onBackgroundAudioPause:{b:function(e){return oe.getBAPSI.on(),e}},offBackgroundAudioPause:{},onBackgroundAudioStop:{b:function(e){return oe.getBAPSI.on(),e}},offBackgroundAudioStop:{},onAppResume:{},offAppResume:{},onAppPause:{},offAppPause:{},getNetworkType:{a:function(e){return V(e.networkInfo)||(e.networkType=N(e.networkInfo)),delete e.err_msg,delete e.networkInfo,e}},scan:{b:function(e){return P(e,{_:"type"}),e.type=e.type||"qr",e},a:function(e){return(e.qrCode||e.barCode)&&(e.code=e.qrCode||e.barCode,delete e.qrCode,delete e.barCode),e}},watchShake:{b:function(e){return Z(e)&&(e=null),e}},getLocation:{b:function(e){return P(e,{accuracy:"horizontalAccuracy",type:"requestType%d"}),V(e.requestType)&&(e.requestType=2),O()&&(V(e.isHighAccuracy)&&(e.isHighAccuracy=!0),V(e.isNeedSpeed)&&(e.isNeedSpeed=!0)),e},a:function(e){return P(e,{citycode:"cityCode",adcode:"adCode"}),V(e.city)&&e.province&&(e.city=e.province),e.latitude&&(e.latitude=A("%s",e.latitude)),e.longitude&&(e.longitude=A("%s",e.longitude)),e.accuracy&&(e.accuracy=A("%f",e.accuracy)),e.speed&&(e.speed=A("%f",e.speed)),e}},getSystemInfo:{a:function(e){if(!R(e,"error")){e.pixelRatio=A("%f",e.pixelRatio),e.windowWidth=A("%d",e.windowWidth),e.language=(e.language||"").replace(/\s?\w+\/((?:\w|-)+)$/,"$1"),e.windowHeight=A("%d",e.windowHeight);try{F()&&ie.compareVersion("10.0.12")<0&&(e.windowHeight=window.screen.height-64)}catch(e){}}return e}},vibrate:{},getServerTime:{},previewImage:{m:"imageViewer",b:function(e){return P(e,{_:"urls",current:"init%d"}),V(e.init)&&(e.init=0),e.images=[],(e.urls||[]).forEach(function(t){e.images.push({u:t})}),delete e.urls,e}},chooseImage:{b:function(e){return P(e,{_:"count%d"}),V(e.count)&&(e.count=1),q(e.sourceType)&&(e.sourceType=[e.sourceType]),e},a:function(e){return P(e,{errorCode:"error",errorDesc:"errorMessage",localIds:"apFilePaths",tempFilePaths:"apFilePaths"}),delete e.scene,delete e.localIds,delete e.tempFilePaths,q(e.apFilePaths)&&(e.apFilePaths=L(e.apFilePaths)),e}},chooseVideo:{b:function(e){return P(e,{_:"maxDuration%d"}),q(e.sourceType)&&(e.sourceType=[e.sourceType]),q(e.camera)&&(e.camera=[e.camera]),e},a:function(e){switch(P(e,{errorCode:"error",errorDesc:"errorMessage",msg:"errorMessage",localId:"apFilePath",tempFilePath:"apFilePath",tempFile:"apFilePath"}),delete e.localId,delete e.tempFilePath,delete e.tempFile,e.error){case 0:delete e.error;break;case 1:e.error=2;break;case 2:e.error=10;break;case 3:e.error=11;break;case 4:e.error=12}return e}},uploadFile:{b:function(e){return P(e,{headers:"header",fileName:"name",fileType:"type"}),o(e.filePath)&&(e.localId=e.filePath,delete e.filePath),e},a:function(e){return 2===e.error&&(e.error=11),e}},saveImage:{b:function(e,t){return P(e,{_:"url",url:"src"}),H(t)&&(e.cusHandleResult=!0),e}},downloadFile:{b:function(e){return P(e,{headers:"header"}),e},a:function(e){return P(e,{tempFilePath:"apFilePath",errorCode:"error"}),delete e.tempFilePath,e}},setSessionData:{b:function(e){return e=a(e),J(e.data)||(e.data={data:e.data}),x(e.data,function(t,n){e.data[t]=JSON.stringify(n)}),e}},getSessionData:{b:function(e){return q(e._)&&(e.keys=[e._]),W(e._)&&(e.keys=e._),delete e._,e},a:function(e){return x(e.data,function(t,n){e.data[t]=L(n)}),e}},startBizService:{b:function(e){return P(e,{_:"name",params:"param%s"}),e}},tradePay:{b:function(e){return P(e,{_:"orderStr"}),e}},getAuthCode:{b:function(e){return P(e,{_:"scopes"}),q(e.scopes)?e.scopeNicks=[e.scopes]:W(e.scopes)?e.scopeNicks=e.scopes:e.scopeNicks=["auth_base"],delete e.scopes,e},a:function(e){return P(e,{authcode:"authCode"}),e}},getAuthUserInfo:{a:function(e){return P(e,{nick:"nickName",userAvatar:"avatar"}),e}},openInBrowser:{b:function(e){return P(e,{_:"url"})}},openLocation:{b:function(e){return V(e.scale)&&(e.scale=15),e}},showPopMenu:{b:function(e){if(P(e,{_:"items",items:"menus"}),J(oe.showPopMenu)?oe.showPopMenu.menus={}:oe.showPopMenu={menus:{}},W(e.menus)){var t=e.menus;e.menus=[],t.forEach(function(t,n){q(t)&&(t={title:t}),V((t=P(K({},t),{title:"name%s",tag:"tag%s",badge:"redDot%s"},{tag:n,title:t.title,badge:V(t.badge)?"-1":t.badge})).icon)||(t.icon=A("%b",t.icon)),e.menus.push(t),oe.showPopMenu.menus[t.name]=n})}return e},d:function(e,t){!0!==oe.showPopMenu.onEvent&&(oe.showPopMenu.onEvent=!0,ie.on("popMenuClick",function(e){var n={};P(n,{title:"index%d"},{title:J(e.data)&&e.data.title?oe.showPopMenu.menus[e.data.title]:"-1"}),t(n)})),te.call("showPopMenu",e,function(e){b("showPopMenu",e)})}},setOptionButton:{m:"setOptionMenu",b:function(e){if(q(e._)&&(e.title=e._,delete e._),W(e._)&&(e.items=e._,delete e._),P(e,{items:"menus",type:"iconType",badge:"redDot%s"}),V(e.icon)||(e.icon=A("%b",e.icon)),J(oe.setOptionButton)?oe.setOptionButton.menus=[]:oe.setOptionButton={menus:[]},W(e.menus)){var t=e.menus;e.menus=[],t.forEach(function(n,r){V((n=P(K({},n),{type:"icontype",badge:"redDot%s"},{badge:V(n.badge)?"-1":n.badge})).icon)||(n.icon=A("%b",n.icon)),e.menus.unshift(n),oe.setOptionButton.menus[t.length-1-r]=r}),e.menus.length>0&&V(e.override)&&(e.override=!0)}if(H(oe.setOptionButton.onEvent)&&ie.off("optionMenu",oe.setOptionButton.onEvent),H(e.onClick)){var n=e.onClick,r=function(e){var t=0,r={};J(e.data)&&$(e.data.index)&&oe.setOptionButton.menus.length>0&&(t=oe.setOptionButton.menus[e.data.index]),r.index=A("%d",t),n(r)};oe.setOptionButton.onEvent=r,!0!==e.reset&&ie.on("optionMenu",r),delete e.onClick}return e},d:function(e,t){te.call("setOptionMenu",e,t),F()&&r(t,{}),ie.showOptionButton()}},showOptionButton:{m:"showOptionMenu"},hideOptionButton:{m:"hideOptionMenu"},showBackButton:{},hideBackButton:{},allowBack:{d:function(e){P(e,{_:"allowButton"}),e.allowButton=!!V(e.allowButton)||!!e.allowButton,j(e.allowGesture)&&te.call("setGestureBack",{val:e.allowGesture}),J(oe.onBack)?oe.onBack.allowButton=e.allowButton:(oe.onBack={allowButton:e.allowButton},ie.onBack()),!1===e.allowButton&&oe.onBack.event&&oe.onBack.event.preventDefault()}},startRecord:{m:"startAudioRecord",b:function(e){return P(e,{maxDuration:"maxRecordTime%f",minDuration:"minRecordTime%f",bizType:"business"},{maxDuration:e.maxDuration||60,minDuration:e.minDuration||1}),V(e.business)&&(e.business="apm-h5"),e},a:function(e){return P(e,{tempFilePath:"apFilePath",identifier:"apFilePath"}),e}},stopRecord:{m:"stopAudioRecord"},cancelRecord:{m:"cancelAudioRecord"},playVoice:{m:"startPlayAudio",b:function(e){return P(e,{_:"filePath",filePath:"identifier",bizType:"business"}),V(e.business)&&(e.business="apm-h5"),e},a:function(e){return P(e,{identifier:"filePath"}),e}},pauseVoice:{m:"pauseAudioPlay"},resumeVoice:{m:"resumeAudioPlay"},stopVoice:{m:"stopAudioPlay"},makePhoneCall:{d:function(e,t){var n="tel:";P(e,{_:"number"}),n+=e.number,te.call("openInBrowser",{url:n},t)}},playBackgroundAudio:{b:function(e){return P(e,{_:"url",url:"audioDataUrl%s",title:"audioName%s",singer:"singerName%s",describe:"audioDescribe%s",logo:"audioLogoUrl%s",cover:"coverImgUrl%s",bizType:"business"},{bizType:e.bizType||"apm-h5"}),e},a:function(e){return P(e,{describe:"errorMessage"}),_(e,12,0),e}},pauseBackgroundAudio:{a:function(e){return P(e,{describe:"errorMessage"}),_(e,12,0),e}},stopBackgroundAudio:{a:function(e){return P(e,{describe:"errorMessage"}),_(e,12,0),e}},seekBackgroundAudio:{b:function(e){return P(e,{_:"position",bizType:"business"},{bizType:e.bizType||"apm-h5"}),e.position=A("%f",e.position),e},a:function(e){return P(e,{describe:"errorMessage"}),_(e,12,0),e}},getBackgroundAudioPlayerState:{a:function(e){return P(e,{audioDataUrl:"url",describe:"errorMessage"}),_(e,12,0),e}}},ie={version:"3.0.5",ua:ne,isAlipay:B(/AlipayClient/),alipayVersion:function(){var e=ne.match(/AlipayClient[a-zA-Z]*\/(\d+(?:\.\d+)+)/);return e&&e.length?e[1]:""}(),compareVersion:function(e){var t=ie.alipayVersion.split(".");e=e.split(".");for(var n,r,o=0;o<t.length;o++){if(n=parseInt(e[o],10)||0,r=parseInt(t[o],10)||0,n>r)return-1;if(n<r)return 1}return 0},parseQueryString:function(e){var t,n={},r=e||window.location.search,o={true:!0,false:!1};r=(r=0===r.indexOf("?")?r.substr(1):r)?r.split("&"):"";for(var a=0;a<r.length;a++)(t=r[a].split("="))[1]=decodeURIComponent(t[1]),t[1]=V(o[t[1]])?t[1]:o[t[1]],n[t[0]]=t[1];return ue("parseQueryString"),n},enableDebug:function(){ie.debug=!0},on:function(e,t){(e=e.replace(/ready/,ee+"Ready")).split(/\s+/g).forEach(function(e){document.addEventListener(e,t,!1)})},off:function(e,t){document.removeEventListener(e,t,!1)},trigger:function(e,t){var n=document.createEvent("Events");return n.initEvent(e,!1,!0),n.data=t||{},document.dispatchEvent(n),n},ready:function(e){function n(n){t()?(H(e)&&e(),H(n)&&n()):ie.on("ready",function(){t(),H(e)&&e(),H(n)&&n()})}if(C())return new Promise(n);n()},call:function(){function e(e,t){var n,o,a,i,f,_,w,A,P,B;n=r[0]+"",o=r[1],V(a=r[2])&&H(o)&&(a=o,o={}),!J(o)&&r.length>=2&&(o={_:o}),V(o)&&(o={}),i=v(n,o,a),f=p(0,i),V(i)&&console.error("please confirm "+n+".before() returns the options."),P=m(n),B=R(o,"_")?o._:o,S(n,B,i),w=s(n),A=l(n),_=function(r){var u=void 0;r=r||{},w&&!1!==d(n,"handleEventData")&&(u=y(r)),V(u=g(n,u||r,i,o,a))&&console.error("please confirm "+n+".after() returns the result."),u=b(n,u),S(n,B,i,r,u),R(u,"error")||R(u,"errorMessage")?(H(t)&&t(u),H(f.fail)&&f.fail(u)):(H(e)&&e(u),H(f.success)&&f.success(u)),H(f.complete)&&f.complete(u),H(a)&&a(u)},H(P)?P(i,_,o,a):w?(u(w,a,_,f),ie.on(w,_)):A?c(A,a):te.call(h(n),i,_),ue(n)}for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];if(C())return ie.ready().then(function(){return new Promise(e)});t()?e():re.push(r)},callSync:function(){var e,t,n,r,o;if(e=(arguments.length<=0?void 0:arguments[0])+"",t=arguments.length<=1?void 0:arguments[1],!J(t)&&arguments.length>=2&&(t={_:t}),V(t)&&(t={}),n=v(e,t),V(n)&&console.error("please return the options from "+e+".before()"),r=m(e),o=R(t,"_")?t._:t,S(e,o,n),H(r))return r(n,t);if(te&&te.callSync){var a=te.callSync(h(e),n);if(J(a)&&!U(a)){var i=g(e,a,n,t);return V(i)&&console.error("please return the result from "+e+".after()"),i=b(e,i),S(e,o,n,a,i),i}return S(e,o,n,a),a}var u="please invoke sync api after AlipayJSBridgeReady.";te&&!te.callSync&&(u="AlipayJSBridge.callSync is undefined，please run "+e+" in service worker"),console.error(u),ue(e)},canIUse:function(){function e(e,n){var r=null;return J(e)&&R(e,n)&&(r=t(e[n])),W(e)&&x(e,function(e,o){J(o)&&R(o,n)&&(r=t(o[n])),q(o)&&o===n&&(r=t(o))}),r}function t(e){return(e={_value:e,_minv:n(e),_maxv:r(e)})._value&&e._value._onlyIOS&&(e._onlyIOS=!0),e._value&&e._value._onlyAndroid&&(e._onlyAndroid=!0),e}function n(e){return(e=e||{})._minv||"0"}function r(e){return(e=e||{})._maxv||"10000"}function o(e){var t=n(e),o=r(e);return ie.compareVersion(t)>=0&&ie.compareVersion(o)<=0}function a(e){var t=!0;return(e=e||{})._onlyIOS&&!F()&&(t=!1),e._onlyAndroid&&!O()&&(t=!1),t}return function(t){var n=!1,r=!1,i=void 0,u=void 0,c=void 0;if(t&&q(t)){c=d(i=(t=t.split("."))[0],"caniuse"),ae[i]?(u={})[i]=c:u=null;for(var s,l=0;l<t.length;l++){if(!((s=e(u,t[l]))&&o(s)&&a(s))){r=!1;break}r=!0,u=s._value}n=r}return n}}(),extendJSAPI:function(){function e(e,t){q(e)&&(e=[e]),x(e,function(r){var o=r;if(!0!==t){var a=e[o];H(a)&&(a={doing:a}),q(a)&&(o=a,(a={})[o]={}),ae[o]=P(ae[o]||{},{mapping:"m",before:"b",doing:"d",after:"a"},a),J(a.extra)&&(ae[o].e=ae[o].e||{},ae[o].e=K(ae[o].e,a.extra))}n(o)?ie[o]=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return ie.callSync.apply(null,[o].concat(t))}:ie[o]=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return ie.call.apply(null,[o].concat(t))}})}return e.mapping=P,e.toType=A,e}()};ie.isAlipay||console.warn("Run alipayjsapi.js in Alipay please!"),ie.extendJSAPI(ae,!0),ie.on("ready",function(){function e(){ce(function(){var t=re.shift();ie.call.apply(null,t),re.length&&e()})}re.length&&e()});var ue=function(){function e(){setTimeout(function(){r.length>0&&(te.call("remoteLog",{type:"monitor",bizType:"ALIPAYJSAPI",logLevel:1,actionId:"MonitorReport",seedId:"ALIPAYJSAPI_INVOKE_COUNTER",param1:r.join("|")}),ie.debug&&console.info("REMOTE_LOG_QUEUE>",r),r=[]),n()},0)}function t(){a=!0,o=setTimeout(function(){e()},5e3)}function n(){!V(o)&&clearTimeout(o),a=!1}var r=[],o=void 0,a=!1;return ie.on("back",function(){e()}),function(n){r.push(n),r.length>=6?e():a||t()}}(),ce=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(function(){e(+new Date,t)},1e3/60)};e._AP=ie,"undefined"!=typeof module&&module.exports?module.exports=ie:"function"==typeof define&&(define.amd||define.cmd)?define(function(){return ie}):e.ap=e.AP=ie}(self);
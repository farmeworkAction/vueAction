!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _checkApp=__webpack_require__(17),_checkApp2=_interopRequireDefault(_checkApp),_ap=__webpack_require__(12),_ap2=_interopRequireDefault(_ap),_wap=__webpack_require__(19),_wap2=_interopRequireDefault(_wap),_tb=__webpack_require__(23),_tb2=_interopRequireDefault(_tb),_qn=__webpack_require__(22),_qn2=_interopRequireDefault(_qn),_dtmonitor=__webpack_require__(10),_dtmonitor2=_interopRequireDefault(_dtmonitor),_spm_core=__webpack_require__(2),_spm_core2=_interopRequireDefault(_spm_core),_extend_tool=__webpack_require__(11),_extend_tool2=_interopRequireDefault(_extend_tool),win=window,appInfo=(0,_checkApp2["default"])(win.navigator.userAgent),Tracert=void 0,initTracert=function(tracert){if(_spm_core2["default"].spmClickEvent(tracert),_spm_core2["default"].spmExpoEvent(tracert),(0,_extend_tool2["default"])(tracert),win.Tracert&&win.Tracert._isInit){var _readyToRun=win.Tracert._readyToRun;if(win.Tracert.call=function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return tracert.call.apply(tracert,args)},_readyToRun&&_readyToRun.length)for(var i=0;i<_readyToRun.length;i++){var fn=_readyToRun[i];try{fn()}catch(e){console.warn(e)}}}win.Tracert=tracert};if((!win.Tracert||win.Tracert._isInit)&&(win.BizLog&&win.BizLog.call("config",{disabled:!0}),/(AP|AF|BK|AM|APHK)/.test(appInfo.name)?(document.addEventListener("AlipayJSBridgeReady",function(){win.BizLog&&win.BizLog.call("config",{disabled:!0})},!1),Tracert=new _ap2["default"],(0,_dtmonitor2["default"])(Tracert),initTracert(Tracert),Tracert.call("info",{seedId:"H5_TRACERT_USE_LOG",logLevel:"3",mdata:{"tracert-version":"1.1.11"}})):/(TB|TM|JU)/.test(appInfo.name)?win.Tracker?(Tracert=new _tb2["default"]({autoLogPv:!1}),win.Tracert=Tracert):(Tracert=new _tb2["default"],initTracert(Tracert)):/QN/.test(appInfo.name)?win.Tracker?(Tracert=new _qn2["default"]({autoLogPv:!1}),win.Tracert=Tracert):(Tracert=new _qn2["default"],initTracert(Tracert)):win.Tracker?(Tracert=new _wap2["default"]({autoLogPv:!1}),win.Tracert=Tracert):(Tracert=new _wap2["default"],initTracert(Tracert)),Tracert&&win.BizLog)){var BizLog=win.BizLog;BizLog.call=function(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return Tracert.call.apply(Tracert,args)},window.BizLog=BizLog}exports["default"]=win.Tracert,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_event=__webpack_require__(14),_format=__webpack_require__(15),_object_assign=__webpack_require__(16),_object_assign2=_interopRequireDefault(_object_assign);exports["default"]={addEvent:_event.addEvent,removeEvent:_event.removeEvent,objectAssign:_object_assign2["default"],objToStr:_format.objToStr,strToObj:_format.strToObj,load:function(callback){"interactive"===document.readyState||"complete"===document.readyState?callback():(0,_event.addEvent)("DOMContentLoaded",document,callback)},dealExtra:function(extra){var prefix=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",obj={};for(var key in extra)if(extra.hasOwnProperty(key)){var objKey=0===key.indexOf(prefix)?key:prefix+key;obj[objKey]=extra[key]}return obj},addMexOption:function(_mexObj,_options){var exObj=_mexObj||{},options=_options||{};if(!options.spmId||"mergeExpose"!==options.actionId)return exObj;var spmIdArr=options.spmId.split(".");if(3===spmIdArr.length){var spmId=options.spmId;exObj[spmId]||(exObj[spmId]={},exObj[spmId]=(0,_object_assign2["default"])({},options))}return exObj},addToExObj:function(_exObj,_options){var exObj=_exObj||{},options=_options||{};if(!options.spmId||"mergeExpose"!==options.actionId)return null;var spmIdArr=options.spmId.split(".");if(3===spmIdArr.length){var spmId=options.spmId;exObj[spmId]||(exObj[spmId]={});var rid="";options.param4&&options.param4.rid?(rid=options.param4.rid,delete options.param4.rid):rid="",exObj[spmId][rid]?exObj[spmId][rid].push(options.param4):(exObj[spmId][rid]=[],exObj[spmId][rid].push(options.param4))}return exObj},formatExObj:function(exObj,mexObj){var tempArray=[],ignoreProps=["fullURL","mBizScenario","mPageState","mPageName","version"];if("object"===("undefined"==typeof exObj?"undefined":_typeof(exObj)))for(var objSPM in exObj)if(exObj.hasOwnProperty(objSPM)){var tempObj={};mexObj?tempObj=(0,_object_assign2["default"])(tempObj,mexObj[objSPM]):(tempObj.spmId=objSPM,tempObj.actionId="mergeExpose");var ridArray=[];if(exObj[objSPM].options)tempObj.param4=(0,_format.objToStr)(exObj[objSPM].options.param4);else{for(var objRID in exObj[objSPM])if(exObj[objSPM].hasOwnProperty(objRID)){for(var ridItemArray=[],ridItem=exObj[objSPM][objRID],i=0;i<ridItem.length;i++){var itemArray=[],item=ridItem[i];for(var prop in item)item.hasOwnProperty(prop)&&ignoreProps.indexOf(prop)===-1&&itemArray.push(prop+"|"+item[prop]);ridItemArray.push(itemArray.join(";"))}ridArray.push("rid|"+objRID+":"+ridItemArray.join("&"))}tempObj.param4="exposed="+ridArray.join("__")}tempArray.push(tempObj)}return tempArray},getValue:function(name){var val=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location.search;if(!name)return"";var result="",AliJSBridge=window.AlipayJSBridge;try{var pattern=new RegExp("(?=\\?|\\&|\\b|^)"+name+"\\=(.+?)(?=\\&|$)");result=pattern.exec(val),result=result?""+result[1]:"",result=decodeURIComponent(result)}catch(ex){console.warn(ex)}return""===result&&(result=AliJSBridge&&AliJSBridge.startupParams&&AliJSBridge.startupParams[name]),result},getApFloatVersion:function(){var ua=window.navigator.userAgent,isApp=function(flag){var reg=new RegExp("aliapp\\("+flag,"i");return reg.test(ua)};if(!isApp("ap"))return 0;var execResult=/alipayclient\/(\d+)\.?(\d+)?\.?(\d+)?/i.exec(ua),alipayVersion=0;if(execResult){var major=execResult[1]||0,minor=execResult[2]||0,patch=execResult[3]||0;+minor<10&&(minor="0"+minor),+patch<10&&(patch="0"+patch),alipayVersion=parseFloat(major+"."+minor+patch)}return alipayVersion}},module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function nodeListToArray(nodes){var arr=void 0,length=void 0;try{return arr=[].slice.call(nodes)}catch(err){arr=[],length=nodes.length;for(var i=0;i<length;i++)arr.push(nodes[i]);return arr}}function getAttr(element,attrName){return element&&element.getAttribute?element.getAttribute(attrName)||"":""}function isDom(dom){return null!==dom&&"object"===("undefined"==typeof dom?"undefined":_typeof(dom))&&1===dom.nodeType}function isViewDom(dom){return!(!dom||!isDom(dom)||dom===document.body||dom===document.documentElement)}function getMetaSpm(){for(var metaList=nodeListToArray(document.getElementsByTagName("meta")),len=metaList.length,metaItem=void 0,name=void 0,content=void 0,bizType=void 0,spmAPos=void 0,i=0;i<len;i++){switch(metaItem=metaList[i],name=getAttr(metaItem,"name"),content=getAttr(metaItem,"content"),name){case spmDataKey:spmAPos=content;break;case"data-bizType":bizType=content}if(spmAPos&&bizType)break}var ret={};return spmAPos&&(ret.spmAPos=spmAPos),bizType&&(ret.bizType=bizType),ret}function getSpmBPos(){var spmBPos=getAttr(document.body,spmDataKey);return spmBPos}function getSpmCPos(el){var dom=el;if(!isViewDom(dom))return"";for(var spmCPos="";dom&&dom!==document.body&&!(spmCPos=getAttr(dom,spmDataKey));)dom=dom.parentNode;return spmCPos}function getDPosDom(el){var dom=el;if(!isViewDom(dom))return null;do if(spmDPosTagPattern.test(dom.tagName)||dom.hasAttribute(spmDPosMarkAttr))return dom;while((dom=dom.parentNode)&&dom!==document.body&&dom&&!getAttr(dom,spmDataKey));return null}function getSpmDPos(el){var dom=el;if(!isViewDom(dom))return"";if(spmDPosTagPattern.test(dom.tagName)||dom.hasAttribute(spmDPosMarkAttr)||(dom=getDPosDom(dom)),!dom)return"";var spmDPos=getAttr(dom,spmDPosMarkAttr),tagName=dom.tagName;if(("string"==typeof spmDPos||spmDPosTagPattern.test(tagName))&&!spmDPos){var idx=0,rollDom=dom;do isDom(rollDom)&&tagName===rollDom.tagName&&idx++,rollDom=rollDom.previousSibling;while(rollDom);spmDPos=idx}return""+spmDPos}function getPageSpm(){var spmBPos=getSpmBPos();return pageSpmInfo.spmAPos&&spmBPos?[pageSpmInfo.spmAPos,spmBPos]:[]}function getExpoSpm(el,Tracert){var cspm=getSpmCPos(el),result={dom:el,spmId:""};if(Tracert.spmAPos&&Tracert.spmBPos&&cspm){var spmarr=[Tracert.spmAPos,Tracert.spmBPos,cspm];result.spmId=spmarr.join(".")}return result}function getClickSpm(el,Tracert){var dom=getDPosDom(el),spmDPos=getSpmDPos(dom),result={dom:dom,spmId:""};if(spmDPos){var spmIdList=spmDPos.split("."),spmIdListlen=spmIdList.length,hasSpmId=!0;switch(spmIdListlen){case 1:spmIdList.unshift(getSpmCPos(dom))}for(var len=2,i=0;i<len;i++)if(!spmIdList[i]){hasSpmId=!1;break}if(Tracert.spmAPos&&Tracert.spmBPos&&hasSpmId){var spmab=[Tracert.spmAPos,Tracert.spmBPos];result.spmId=spmab.concat(spmIdList).join(".")}}return result}function spmEventHandler(e){var el=e.target||e.srcElement,clickSpmOptions=getClickSpm(el,window.Tracert);if("object"===("undefined"==typeof clickSpmOptions?"undefined":_typeof(clickSpmOptions))&&clickSpmOptions.spmId){var dom=clickSpmOptions.dom,externOpts={};getAttr(dom,spmAbTest)&&(externOpts.abTest=!0),getAttr(dom,spmEntityid)&&(externOpts.entityId=getAttr(dom,spmEntityid)),window.Tracert.call("click",clickSpmOptions.spmId,getDomParam(dom),externOpts)}if(!window.Tracker)for(;el&&"BODY"!==el.tagName;){for(var seedVal=void 0,i=0;el.attributes&&i<el.attributes.length;i++){var attr=el.attributes[i];/^(data-)?seed$/.test(attr.name)&&(seedVal=trim(attr.value))}if(seedVal){window.Tracert.call("click",seedVal,getDomParam(el));break}el=el.parentNode}}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_y=__webpack_require__(6),_y2=_interopRequireDefault(_y),_x=__webpack_require__(5),_x2=_interopRequireDefault(_x),_util=__webpack_require__(1),_util2=_interopRequireDefault(_util),spmDataKey="data-aspm",spmDPosMarkAttr="data-aspm-click",spmAbTest="data-aspm-ab",spmEntityid="data-aspm-entityid",spmDPosTagPattern=/^(a|area)$/i,trim=function(str){return str.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},pageSpmInfo=getMetaSpm(),getDomParam=function(dom){var paramStr=dom&&dom.getAttribute?dom.getAttribute("data-aspm-param")||"":"",result={};if(paramStr){var paramSplitList=paramStr.split("^");if(paramStr.indexOf("=")===-1)result=paramSplitList;else for(var len=paramSplitList.length,paramItem=void 0,paramItemSplitList=void 0,i=0;i<len;i++)paramItem=paramSplitList[i],paramItem&&(paramItemSplitList=paramItem.split("="),result[paramItemSplitList[0]]=paramItemSplitList[1]||"")}return result},spmClickEvent=function(Tracert,originEventType){originEventType&&_util2["default"].removeEvent(originEventType,document,spmEventHandler),_util2["default"].addEvent(Tracert.eventType,document,spmEventHandler)},spmExpoEvent=function(Tracert){var self=Tracert,expoSectionLeft=self.expoSection[0],expoSectionRight=self.expoSection[1],expoObj=self.expoObj,_doExpo=function(expoVal,dom,expoEl){if(dom&&dom.getBoundingClientRect){var box=dom.getBoundingClientRect();if(!box.height||!box.width)return}if(expoObj[expoVal]!==!1&&dom.offsetParent){void 0===expoObj[expoVal]&&(expoObj[expoVal]=[-1,-1]);var expoYStatus=(0,_y2["default"])(expoEl),expoXStatus=(0,_x2["default"])(expoEl);if(expoYStatus>=expoSectionLeft&&expoYStatus<=expoSectionRight&&expoXStatus>=expoSectionLeft&&expoXStatus<=expoSectionRight){var extra=getDomParam(dom),expoObjx=expoObj[expoVal][0],expoObjy=expoObj[expoVal][1];expoObjy<expoSectionLeft?(self.expo(expoVal,"up",extra),self.expoOnce&&(expoObj[expoVal]=!1)):expoObjy>expoSectionRight?(self.expo(expoVal,"down",extra),self.expoOnce&&(expoObj[expoVal]=!1)):expoObjx<expoSectionLeft?(self.expo(expoVal,"left",extra),self.expoOnce&&(expoObj[expoVal]=!1)):expoObjx>expoSectionRight&&(self.expo(expoVal,"right",extra),self.expoOnce&&(expoObj[expoVal]=!1))}expoObj[expoVal]=expoObj[expoVal]!==!1&&[expoXStatus,expoYStatus]}},expoCheck=function(){for(var expoElementList=document.querySelectorAll("[data-aspm-expo]"),i=0;i<expoElementList.length;i++){var expoEl=expoElementList[i],spmOptions=getClickSpm(expoEl,Tracert);if("object"===("undefined"==typeof spmOptions?"undefined":_typeof(spmOptions))&&spmOptions.spmId||(spmOptions=getExpoSpm(expoEl,Tracert),"object"===("undefined"==typeof spmOptions?"undefined":_typeof(spmOptions))&&spmOptions.spmId)){var expoVal=spmOptions.spmId,dom=spmOptions.dom;_doExpo(expoVal,dom,expoEl)}}if(!window.Tracker)for(var expoSeedElementList=document.querySelectorAll("[data-expo]"),_i=0;_i<expoSeedElementList.length;_i++){var _expoEl=expoSeedElementList[_i],_expoVal=getAttr(_expoEl,"data-expo");_expoVal&&_doExpo(_expoVal,_expoEl,_expoEl)}},startAutoExpo=function(){expoCheck(),self.expoType(expoCheck)};Tracert.autoExpo&&startAutoExpo(),_util2["default"].objectAssign(Tracert,{startAutoExpo:startAutoExpo,expoCheck:expoCheck})};exports["default"]={getPageSpm:getPageSpm,getSpmBPos:getSpmBPos,getMetaSpm:getMetaSpm,getClickSpm:getClickSpm,pageSpmInfo:pageSpmInfo,spmClickEvent:spmClickEvent,spmExpoEvent:spmExpoEvent},module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(top,height,clientHeight){var containStatus=void 0;return top<-height?containStatus=-1:top<0?containStatus=top/height:top+height<clientHeight?containStatus=0:top<clientHeight?containStatus=(top+height-clientHeight)/height:top>=clientHeight&&(containStatus=1),containStatus},module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){for(var keys=Object.getOwnPropertyNames(defaults),i=0;i<keys.length;i++){var key=keys[i],value=Object.getOwnPropertyDescriptor(defaults,key);value&&value.configurable&&void 0===obj[key]&&Object.defineProperty(obj,key,value)}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass))}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_util=__webpack_require__(1),_util2=_interopRequireDefault(_util),_core=__webpack_require__(13),_core2=_interopRequireDefault(_core),_spm_core=__webpack_require__(2),_spm_core2=_interopRequireDefault(_spm_core),Core=function(_Inter){function Core(){var opt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,Core);var to=window._to||{};_util2["default"].objectAssign(opt,to);var _this=_possibleConstructorReturn(this,_Inter.call(this,opt));return _this._start(),_this.call("init"),_this}return _inherits(Core,_Inter),Core.prototype.init=function(){},Core.prototype.load=function(callback){_util2["default"].load(callback)},Core.prototype._start=function(){var self=this;self.load(function(){var metaInfo=_spm_core2["default"].getMetaSpm();self.spmBPos||(metaInfo.spmBPos=_spm_core2["default"].getSpmBPos()),self.config(metaInfo),self.ready=!0;for(var i=0;i<self.apiCashList.length;i++){var args=self.apiCashList[i];self.call.apply(self,args)}self.apiCashList=[]})},Core.prototype.start=function(){this._start()},Core.prototype.call=function(){var self=this,args=[].slice.call(arguments),result=void 0;if(self.ready){if(!self[args[0]]||"function"!=typeof self[args[0]])return console.warn("\u672a\u627e\u5230\u65b9\u6cd5\uff1a"+self[args[0]]),null;var options=args.slice(1);options=self.optionsHandle(options),result=self[args[0]].apply(self,options)}else self.apiCashList.push(args);return result},Core.prototype.optionsHandle=function(options){return options.forEach(function(op){var opz=op;opz&&(opz.spmid&&(opz.spmId=opz.spmid),opz.seedid&&(opz.seedId=opz.seedid),opz.ucid&&(opz.ucId=opz.ucid))}),options},Core.prototype.config=function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},self=this;options.eventName&&_util2["default"].objectAssign(options,{eventType:options.eventName});var originEvent=!!options.eventType&&self.eventType;_util2["default"].objectAssign(self,options),_spm_core2["default"].spmClickEvent(self,originEvent)},Core.prototype.remoteLog=function(){},Core.prototype._formatRemoteParams=function(){var params=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},self=this,options=params||{},seedId=options.seedId;self.seedIdPrefix&&(seedId=self.seedIdPrefix+"-"+seedId),self.seedIdSuffix&&(seedId=seedId+"-"+self.seedIdSuffix);var spmId=options.spmId||"",spmAPosrr=spmId.split("."),arrLen=spmAPosrr.length,spmAPos=self.spmAPos,spmBPos=self.spmBPos;if(spmAPos&&spmBPos)switch(arrLen){case 1:if(""===spmId){delete options.spmId;break}options.spmId=[spmAPos,spmBPos,spmId].join(".");break;case 2:options.spmId=[spmAPos,spmBPos,spmId].join(".");break;case 3:break;case 4:break;default:options.param2=spmId,delete options.spmId}else delete options.spmId;var extraParam={version:self.version,mBizScenario:self.bizScenario,mPageState:self.state,mPageName:self.name,role_id:self.roleId||self.role_id,fullURL:location.href};self.chInfo&&(extraParam.chInfo=self.chInfo);var param4=options.param4||{};if(_util2["default"].objectAssign(param4,extraParam),self.mdata&&"object"===_typeof(self.mdata))for(var key in self.mdata)self.mdata.hasOwnProperty(key)&&(param4[key]=param4[key]||self.mdata[key]);var logLevel=options.logLevel||self.logLevel;return _util2["default"].objectAssign(options,{type:options.type||"monitor",bizType:options.bizType||self.bizType,logLevel:parseInt(logLevel,10),actionId:options.actionId||"clicked",seedId:seedId}),options},Core.prototype.logPv=function(){},Core.prototype.report=function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},self=this,params=options.params,pageSpm=options.spmId;if(pageSpm){var arr=pageSpm.split("."),spmAPos=arr[0],spmBPos=arr[1];spmAPos&&spmBPos&&self.config({spmAPos:spmAPos,spmBPos:spmBPos})}"object"===("undefined"==typeof params?"undefined":_typeof(params))&&self.config({mdata:_extends({},self.mdata,params)}),self.call("logPv")},Core.prototype.pageState=function(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.config({state:state}),this.call("logPv")},Core.prototype.pageName=function(){var name=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.config({name:name})},Core.prototype.setPageState=function(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.call("pageState",state)},Core.prototype.time=function(){var timekey=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",key=""+timekey,timeMap=this.timeMap;key&&!timeMap[key]&&(timeMap[key]=new Date-0)},Core.prototype.timeEnd=function(){var timekey=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",key=""+timekey,timeMap=this.timeMap;if(!key||!timeMap[key])return"";var ts=timeMap[key],consume=new Date-0-ts;return delete timeMap[key],consume},Core.prototype._goRemotelog=function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},self=this;if(!options.seedId&&!options.spmId)return void console.warn("\u8bf7\u586b\u5165\u57cb\u70b9seedId\u6216spmId");var spmId=options.spmId||options.spmid||"",spmAPosrr=spmId.split("."),arrLen=spmAPosrr.length,spmAPos=self.spmAPos,spmBPos=self.spmBPos;if(spmAPos&&spmBPos)switch(arrLen){case 1:case 2:if(""===spmId)break;if(0!==spmId.indexOf("c"))break;spmId=[spmAPos,spmBPos,spmId].join(".")}var config={ucId:options.ucId,seedId:options.seedId,spmId:spmId,actionId:options.actionId,logLevel:options.logLevel,param4:options.mdata||{}};if(options.type&&(config.type=options.type),options.params&&"object"===_typeof(options.params))if(options.params.length)_util2["default"].objectAssign(config,{param1:options.params[0]||"",param2:options.params[1]||"",param3:options.params[2]||""});else{var mdata=options.mdata||{};_util2["default"].objectAssign(mdata,options.params),_util2["default"].objectAssign(config.param4,mdata)}if(options.timeKey){var consume=self.call("timeEnd",options.timeKey);consume&&(config.param4.consume=consume)}this.call("remoteLog",config)},Core.prototype.info=function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._goRemotelog(options)},Core.prototype.error=function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_util2["default"].objectAssign(options,{type:"error",actionId:"exception"}),this._goRemotelog(options)},Core.prototype.click=function(){var spmId=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",extra=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},self=this,seed=spmId.split(":"),param4=seed[1]?{seedDesc:seed[1]}:{};_util2["default"].objectAssign(param4,_util2["default"].dealExtra(extra,self.paramPrefix));var params={param1:self.url,param2:seed[0],param4:param4,seedId:self.seedIdCfg.clkSeedId,actionId:"clicked",spmId:seed[0]};_util2["default"].objectAssign(params,options),self.call("remoteLog",params,!0)},Core.prototype.expo=function(){var _expo=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",offset=arguments[1],extra=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},self=this,params={param1:self.url,param2:_expo,param3:offset,param4:_util2["default"].dealExtra(extra,self.paramPrefix),seedId:self.seedIdCfg.expoSeedId,actionId:"exposure",spmId:_expo},expoObj=self.expoObj||{};return expoObj[_expo]===!1?void console.warn("\u8be5\u57cb\u70b9\u5df2\u7ecf\u66dd\u5149\u8fc7\u4e86"):void self.call("remoteLog",params)},Core.prototype.calc=function(){var _calc=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",key=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",extra=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},self=this,params={param1:self.url,param2:_calc,param3:key,param4:_util2["default"].dealExtra(extra,self.paramPrefix),seedId:self.seedIdCfg.calcSeedId,actionId:"timestamp",spmId:_calc};self.call("remoteLog",params)},Core}(_core2["default"]);exports["default"]=Core,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _base=__webpack_require__(3),_base2=_interopRequireDefault(_base),win=window,doc=win.document,docEl=doc.documentElement;exports["default"]=function(el){var elRect=el.getBoundingClientRect();return(0,_base2["default"])(elRect.left,elRect.width,docEl.clientWidth)},module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _base=__webpack_require__(3),_base2=_interopRequireDefault(_base),win=window,doc=win.document,docEl=doc.documentElement;exports["default"]=function(el){var elRect=el.getBoundingClientRect();return(0,_base2["default"])(elRect.top,elRect.height,docEl.clientHeight)},module.exports=exports["default"]},function(module,exports,__webpack_require__){var win=window,loc=win.location,queryString=(win.encodeURIComponent,win.decodeURIComponent,__webpack_require__(8)),extend=function(obj,tar){for(var key in tar)obj[key]=tar[key];return obj},Router={parse:queryString.parse,stringify:queryString.stringify,refresh:function(refreshKey){refreshKey=refreshKey||"refreshKey";var refreshObj={};refreshObj[refreshKey]=Math.random(),console.log(refreshObj),Router.setSearch(refreshObj)},reload:function(){loc.reload()},query:{},setSearch:function(obj){loc.search=queryString.stringify(extend(Router.search,obj))},setHash:function(obj){Router.hash=extend(Router.hash,obj),extend(Router.query,obj),loc.hash=queryString.stringify(Router.hash)},init:function(){try{Router.search=queryString.parse(loc.search.replace("?","")),Router.hash=queryString.parse(loc.hash.replace("#",""))}catch(e){}return extend(Router.query,Router.search),extend(Router.query,Router.hash),Router.query}};Router.init(),module.exports=win.Router=Router},function(module,exports,__webpack_require__){module.exports=__webpack_require__(9)},function(module,exports){"use strict";function isPlainObject(o){return o&&"[object Object]"===toString.call(o)&&"isPrototypeOf"in o}function isPrimitive(o){return o!==Object(o)}var QueryString={};QueryString.escape=encodeURIComponent,QueryString.unescape=function(s){return decodeURIComponent(s.replace(/\+/g," "))},QueryString.stringify=function(obj,sep,eq,arrayKey){if(!isPlainObject(obj))return"";sep=sep||"&",eq=eq||"=",arrayKey=arrayKey||!1;var key,val,buf=[],escape=QueryString.escape;for(key in obj)if(hasOwnProperty.call(obj,key))if(val=obj[key],key=QueryString.escape(key),isPrimitive(val))buf.push(key,eq,escape(val+""),sep);else if(isArray(val)&&val.length)for(var i=0;i<val.length;i++)isPrimitive(val[i])&&buf.push(key,(arrayKey?escape("[]"):"")+eq,escape(val[i]+""),sep);else buf.push(key,eq,sep);return buf.pop(),buf.join("")},QueryString.parse=function(str,sep,eq){var ret={};if("string"!=typeof str||0===trim(str).length)return ret;var pairs=str.split(sep||"&");eq=eq||"=";for(var unescape=QueryString.unescape,i=0;i<pairs.length;i++){var pair=pairs[i].split(eq),key=unescape(trim(pair[0])),val=unescape(trim(pair.slice(1).join(eq))),m=key.match(/^(\w+)\[\]$/);m&&m[1]&&(key=m[1]),hasOwnProperty.call(ret,key)?(isArray(ret[key])||(ret[key]=[ret[key]]),ret[key].push(val)):ret[key]=m?[val]:val}return ret};var toString=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty,isArray=Array.isArray||function(val){return"[object Array]"===toString.call(val)},trim=String.prototype.trim?function(str){return null==str?"":String.prototype.trim.call(str)}:function(str){return null==str?"":str.toString().replace(/^\s+/,"").replace(/\s+$/,"")};module.exports=QueryString},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_util=__webpack_require__(1),_util2=_interopRequireDefault(_util);exports["default"]=function(Tracert){function remoteDtLogMonitor(logList){var list=[].concat(logList);list.length&&Tracert.call("info",{seedId:"H5_PAGE_DtLogMoinitor_UPLOAD",params:{dtLogMonitor:list.join(_dtLogMonitorSpliter)},logLevel:"3"})}function saveDtLogMonitor(logList){var list=[].concat(logList),logVal=list.join(_dtLogMonitorSpliter),logTime=""+parseInt((new Date-0)/1e3,10);AlipayJSBridge.call("setAPDataStorage",{type:"preferences",business:"DTSchemeServiceImpl",key:"dtLogMonitor",value:logVal}),AlipayJSBridge.call("setAPDataStorage",{type:"preferences",business:"DTSchemeServiceImpl",key:"dtLogMonitorTime",value:logTime}),Tracert.call("info",{seedId:"H5_PAGE_DtLogMoinitor_SAVE",params:{dtLogMonitor:logVal,dtLogMonitorTime:logTime},logLevel:"3"})}function splitDtLogMonitor(logStr){var blackObj={},blackArr=[],otherObj={},otherArr=[],timeVal=void 0;if(logStr)try{var logMonitorList=logStr.split(_dtLogMonitorSpliter),logMonitorListLen=logMonitorList.length,logItem=void 0,i=void 0,key=void 0,val=void 0;for(i=0;i<logMonitorListLen;i++)logItem=logMonitorList[i],logItem&&(logItem=logItem.split("_"),key=logItem[0],val=logItem[1],val&&("time"===key?timeVal=val:_dtLogMonitorBlackList[key]?(blackObj[key]=val,blackArr.push(key+"_"+val)):(otherObj[key]=val,otherArr.push(key+"_"+val))))}catch(ex){console.warn(ex)}return{blackObj:blackObj,blackArr:blackArr,otherObj:otherObj,otherArr:otherArr,time:timeVal}}function getStorageDtLogMonitor(callback){AlipayJSBridge.call("getAPDataStorage",{type:"preferences",business:"DTSchemeServiceImpl",key:"dtLogMonitor"},function(result){var storageObj=void 0,storageVal="";1!==result.error&&11!==result.error&&result.data&&(storageVal=""+result.data),"function"==typeof callback&&(storageObj=splitDtLogMonitor(storageVal),callback(storageObj))})}function initDtLogMonitor(){var startupParams=window.AlipayJSBridge.startupParams,startupLogStr=_util2["default"].getValue("dtLogMonitor")||startupParams.dtLogMonitor;try{startupLogStr=decodeURIComponent(startupLogStr)}catch(ex){Tracert.call("info",{seedId:"H5_PAGE_DtLogMoinitor_PARSEERR",params:{startupDtLog:startupLogStr},logLevel:"3"})}var startupLogSplit=splitDtLogMonitor(startupLogStr),startupLogOtherObj=startupLogSplit.otherObj,startupLogHasWhiteKey=!1,tempProp=void 0,unionStorageAndRemote=function(){setTimeout(function(){getStorageDtLogMonitor(function(storageLogObj){var logMonitorArr=[];storageLogObj.otherArr.length?AlipayJSBridge.call("getAPDataStorage",{type:"preferences",business:"DTSchemeServiceImpl",key:"dtLogMonitorTime"},function(result){var time=result.data||"";logMonitorArr=logMonitorArr.concat(storageLogObj.otherArr),logMonitorArr=logMonitorArr.concat(startupLogSplit.blackArr),time&&logMonitorArr.push("time_"+time),_dtLogMonitorVal=logMonitorArr.join(_dtLogMonitorSpliter),remoteDtLogMonitor(logMonitorArr)}):(logMonitorArr=logMonitorArr.concat(startupLogSplit.blackArr),_dtLogMonitorVal=logMonitorArr.join(_dtLogMonitorSpliter),remoteDtLogMonitor(logMonitorArr))})},10)};for(tempProp in _dtLogMonitorWhiteList)if(startupLogOtherObj[tempProp]){startupLogHasWhiteKey=!0;break}!startupLogHasWhiteKey&&startupLogSplit.otherArr.length||"20000837"===startupParams.appId?getStorageDtLogMonitor(function(logObj){var dtLogList=[],logOtherObj=logObj.otherObj;if("object"===("undefined"==typeof logOtherObj?"undefined":_typeof(logOtherObj)))for(tempProp in _dtLogMonitorWhiteList)logOtherObj.hasOwnProperty(tempProp)&&logOtherObj[tempProp]&&dtLogList.push(tempProp+"_"+logOtherObj[tempProp]);
dtLogList=dtLogList.concat(startupLogSplit.otherArr),saveDtLogMonitor(dtLogList),unionStorageAndRemote()}):startupLogSplit.otherArr.length?(saveDtLogMonitor(startupLogSplit.otherArr),unionStorageAndRemote()):unionStorageAndRemote()}var _dtLogMonitorSpliter="__",_dtLogMonitorVal="",_dtLogMonitorBlackList={src:1,rid:1,sid:1,time:1},_dtLogMonitorWhiteList={ch:1,tanxid:1,adid:1,wid:1},dtLogMonitor=function(logObj,callback){var fn=callback;if("function"==typeof logObj&&(fn=logObj),fn||(fn=function(){}),"object"!==("undefined"==typeof logObj?"undefined":_typeof(logObj)))fn(_dtLogMonitorVal,_dtLogMonitorVal);else{var existLog=splitDtLogMonitor(_dtLogMonitorVal),blackObj=existLog.blackObj,tempProp=void 0,blackArr=[];for(tempProp in _dtLogMonitorBlackList)"time"!==tempProp&&(logObj[tempProp]&&(blackObj[tempProp]=logObj[tempProp]),blackObj[tempProp]&&blackArr.push(tempProp+"_"+blackObj[tempProp]));existLog.time&&blackArr.push("time_"+existLog.time),callback(existLog.otherArr.concat(blackArr).join(_dtLogMonitorSpliter),_dtLogMonitorVal)}};_util2["default"].objectAssign(Tracert,{initDtLogMonitor:initDtLogMonitor,dtLogMonitor:dtLogMonitor}),Tracert.call("initDtLogMonitor")},module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_util=__webpack_require__(1),_util2=_interopRequireDefault(_util),_spm_core=__webpack_require__(2),_spm_core2=_interopRequireDefault(_spm_core);exports["default"]=function(Tracert){_util2["default"].objectAssign(Tracert,{parse:_util2["default"].strToObj,stringify:_util2["default"].objToStr,_tool:_extends({},_spm_core2["default"])})},module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){for(var keys=Object.getOwnPropertyNames(defaults),i=0;i<keys.length;i++){var key=keys[i],value=Object.getOwnPropertyDescriptor(defaults,key);value&&value.configurable&&void 0===obj[key]&&Object.defineProperty(obj,key,value)}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass))}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_core=__webpack_require__(4),_core2=_interopRequireDefault(_core),_util=__webpack_require__(1),_util2=_interopRequireDefault(_util),Ap=function(_Core){function Ap(){return _classCallCheck(this,Ap),_possibleConstructorReturn(this,_Core.apply(this,arguments))}return _inherits(Ap,_Core),Ap.prototype.init=function(){var self=this,AliJSBridge=window.AlipayJSBridge;!self.bizScenario&&AliJSBridge&&AliJSBridge.startupParams&&AliJSBridge.startupParams.bizScenario&&(self.bizScenario=AliJSBridge.startupParams.bizScenario),self.version||AliJSBridge&&AliJSBridge.startupParams&&AliJSBridge.startupParams.version&&(self.version=AliJSBridge.startupParams.version),self.appId||AliJSBridge&&AliJSBridge.startupParams&&AliJSBridge.startupParams.appId&&(self.appId=AliJSBridge.startupParams.appId);var chInfo=_util2["default"].getValue("chInfo")||_util2["default"].getValue("chinfo")||AliJSBridge&&AliJSBridge.startupParams&&AliJSBridge.startupParams.chInfo||AliJSBridge&&AliJSBridge.startupParams&&AliJSBridge.startupParams.chinfo;!self.chInfo&&chInfo&&self.config({chInfo:chInfo});var cityid=_util2["default"].getValue("cityId");if(cityid&&self.config({mdata:_extends({},self.mdata,{cityid:cityid})}),document.addEventListener("collectDestroyJsApi",function(){if(!self.hasExpoMerge){for(var i=0;i<self.fmtedExObjArr.length;i++)event.syncJsApis.push({apiName:"remoteLog",params:self.fmtedExObjArr[i]});self.hasExpoMerge=!0}},!1),document.addEventListener("back",function(){if(!self.hasExpoMerge){for(var i=0;i<self.fmtedExObjArr.length;i++)AlipayJSBridge.call("remoteLog",self.fmtedExObjArr[i]);self.hasExpoMerge=!0}},!1),document.addEventListener("pause",function(){if(!self.hasExpoMerge)for(var i=0;i<self.fmtedExObjArr.length;i++)AlipayJSBridge.call("remoteLog",self.fmtedExObjArr[i])},!1),AliJSBridge&&AliJSBridge.startupParams&&AliJSBridge.startupParams.extLogInfo)try{var extInfo=AliJSBridge.startupParams.extLogInfo;"string"==typeof extInfo&&(extInfo=JSON.parse(extInfo));var _extInfo=extInfo,pageId=_extInfo.pageId;if(pageId){var pageIdArr=pageId.split("__"),target=_util2["default"].getApFloatVersion()>=10.002?pageIdArr[0]:pageIdArr[1],pageArr=target.split(".");if(pageArr[0]&&pageArr[1]&&2===pageArr.length)return void self.call("config",{spmAPos:pageArr[0],spmBPos:pageArr[1]})}}catch(e){console.warn("\u89e3\u6790extLogInfo\u5931\u8d25",e)}self.autoLogPv&&self.call("pageMonitor")},Ap.prototype.remoteLog=function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},autoClick=arguments.length>1&&void 0!==arguments[1]&&arguments[1],self=this,params=this._formatRemoteParams(options),_params={};if(_util2["default"].objectAssign(_params,params),this.debug){var debugParam={};_util2["default"].objectAssign(debugParam,params),console.log(debugParam)}return"mergeExpose"===_params.actionId&&_params.spmId&&3===_params.spmId.split(".").length&&_params.param4?(self.fmtedExOptions=_util2["default"].addMexOption(self.fmtedExOptions,_util2["default"].objectAssign({},_params)),self.fmtedExObj=_util2["default"].addToExObj(self.fmtedExObj,_util2["default"].objectAssign({},_params)),void(self.fmtedExObjArr=_util2["default"].formatExObj(self.fmtedExObj,self.fmtedExOptions))):(autoClick&&params.spmId&&(delete params.param1,delete params.param2,delete params.param3,(this.entityId||params.entityId)&&(params.entityId=params.entityId||this.entityId),window.AlipayJSBridge.call("autoClick",{param:params})),_params.param4=_util2["default"].objToStr(_params.param4),void window.AlipayJSBridge.call("remoteLog",_params))},Ap.prototype.load=function(callback){_util2["default"].load(function(){window.AlipayJSBridge?callback():document.addEventListener("AlipayJSBridgeReady",callback,!1)})},Ap.prototype.logPv=function(){this.call("pageMonitor")},Ap.prototype.pageMonitor=function(){var self=this,bizType=self.bizType,pageSpm=self.spmAPos&&self.spmBPos?[self.spmAPos,self.spmBPos].join("."):"",reportDataObj={url:self.url,bizType:bizType,isSPM:!!pageSpm};pageSpm&&(reportDataObj.spmId=pageSpm),self.chInfo&&(reportDataObj.chInfo=self.chInfo),self.entityId&&(reportDataObj.entityId=self.entityId);var spmDetail=_extends({},self.mdata,{url:self.url,fullUrl:location.href,mPageState:self.state,bizScenario:self.bizScenario,mBizScenario:self.bizScenario});self.appId&&(spmDetail.appId=self.appId);var _params={spm:reportDataObj,spmDetail:spmDetail};self.debug&&console.log(_params),window.AlipayJSBridge.call("reportData",_params)},Ap.prototype.available=function(options){var params=void 0;options instanceof Object&&(params="object"===_typeof(options.params)?options.params:options);var AlipayH5Performance=window.AlipayH5Performance;AlipayH5Performance&&AlipayH5Performance.addTrackData({name:"timeReport",value:_util2["default"].objToStr(params,"|")})},Ap}(_core2["default"]);exports["default"]=Ap,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _util=__webpack_require__(1),_util2=_interopRequireDefault(_util),_animaRouter=__webpack_require__(7),_animaRouter2=_interopRequireDefault(_animaRouter),addEvent=_util2["default"].addEvent,removeEvent=_util2["default"].removeEvent,doc=window.document,Core=function Core(){var _this=this,opt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,Core);var self=this;_util2["default"].objectAssign(self,{autoLogPv:!0,eventType:"click",autoExpo:!1,bizType:"H5behavior",state:"",name:"",logLevel:"2",mdata:{},seedIdPrefix:"",seedIdSuffix:"",spmAPos:"",spmBPos:"",bizScenario:_animaRouter2["default"].query.bizScenario||"",entityId:"",paramPrefix:"",url:location.href.split(/\?|#|;jsessionid=/)[0],refNameKey:"tr-refspm",refSpm:"",seedIdCfg:{pageSeedId:"H5_MTRACKER_AP_PAGE",clkSeedId:"H5_MTRACKER_AP_CLK",calcSeedId:"H5_MTRACKER_AP_CALC",expoSeedId:"H5_MTRACKER_AP_EXPO",syslogSeedId:"H5_MTRACKER_AP_SYSLOG"},platformType:"",ready:!1,apiCashList:[],timeMap:{},expoOnce:!1,hasExpoMerge:!1,fmtedExObjArr:[],fmtedExObj:{},fmtedExOptions:{},expotTimeout:300,expoObj:{},expoType:function(callback){var that=_this,lock=!1,scrollFn=function scrollFn(){lock||(lock=!0,removeEvent("scroll",doc,scrollFn),setTimeout(function(){lock=!1,addEvent("scroll",doc,scrollFn)},that.expotTimeout),callback())};addEvent("scroll",doc,scrollFn)},expoSection:[-.3,.3]}),_util2["default"].objectAssign(self,opt)};exports["default"]=Core,module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]={addEvent:function(evnt,ele,func){var elem=ele||window.document;elem.addEventListener?elem.addEventListener(evnt,func,!0):elem.attachEvent?elem.attachEvent("on"+evnt,func):elem[evnt]=func},removeEvent:function(evnt,ele,func){var elem=ele||window.document;elem.removeEventListener?elem.removeEventListener(evnt,func,!0):elem.detachEvent?elem.detachEvent("on"+evnt,func):elem[evnt]=func}},module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]={objToStr:function(obj){var spliter=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"^",strArr=[],prop=void 0;if(obj instanceof Array)strArr=obj;else if(obj instanceof Object)for(prop in obj)obj.hasOwnProperty(prop)&&strArr.push(prop+"="+obj[prop]);return strArr.join(spliter)},strToObj:function(str){var spliter=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"^";if("string"!=typeof str)return null;var strList=str.split(spliter);if(str.indexOf("=")===-1)return strList;for(var strLen=strList.length,strItem=void 0,strItemList=void 0,result={},strIdx=0;strIdx<strLen;strIdx++)strItem=strList[strIdx],strItem&&(strItemList=strItem.split("="),result[strItemList[0]]=strItemList[1]||"");return result}},module.exports=exports["default"]},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(target,obj){var tar=target||{};for(var key in obj)void 0!==obj[key]&&(tar[key]=obj[key]);return tar},module.exports=exports["default"]},function(module,exports){var checkApp=function(ua){var app={},aliApp=ua.match(/AliApp\S+\b\)/gi);return app.is=!!/(T-UA)|(TBIOS)|(WindVane)|(AliApp)/i.test(ua),app.name=aliApp?aliApp[0].match(/\(\w+\-*\w*/)[0].split("(")[1]:"",app.version=aliApp?aliApp[0].match(/(\d+\.*)+/gi)[0]:"",app};module.exports=checkApp},function(module,exports){function save(){var value,pairs=[],empty=!0;for(var key in STORAGE)STORAGE.hasOwnProperty(key)&&(empty=!1,value=STORAGE[key]||"",pairs.push(encode(key)+EQ+encode(value)));win.name=empty?ORIGIN_NAME:SCHEME+encode(ORIGIN_NAME)+Q+pairs.join(AND)}function addEventListener(element,eventName,handler){element&&(element.addEventListener?element.addEventListener(eventName,handler,!1):element.attachEvent&&element.attachEvent("on"+eventName,function(evt){handler.call(element,evt)}))}var ORIGIN_NAME,win=window,SCHEME="nameStorage:",RE_PAIR=/^([^=]+)(?:=(.*))?$/,Q="?",EQ="=",AND="&",encode=encodeURIComponent,decode=decodeURIComponent,STORAGE={},nameStorage={};!function(name){if(name&&0===name.indexOf(SCHEME)){var match=name.split(/[:?]/);match.shift(),ORIGIN_NAME=decode(match.shift())||"";for(var pair,key,value,params=match.join(""),pairs=params.split(AND),i=0,l=pairs.length;i<l;i++)pair=pairs[i].match(RE_PAIR),pair&&pair[1]&&(key=decode(pair[1]),value=decode(pair[2])||"",STORAGE[key]=value)}else ORIGIN_NAME=name||""}(win.name),nameStorage.setItem=function(key,value){key&&"undefined"!=typeof value&&(STORAGE[key]=String(value),save())},nameStorage.getItem=function(key){return STORAGE.hasOwnProperty(key)?STORAGE[key]:null},nameStorage.removeItem=function(key){STORAGE.hasOwnProperty(key)&&(STORAGE[key]=null,delete STORAGE[key],save())},nameStorage.clear=function(){STORAGE={},save()},nameStorage.valueOf=function(){return STORAGE},nameStorage.toString=function(){var name=win.name;return 0===name.indexOf(SCHEME)?name:SCHEME+name},addEventListener(win,"beforeunload",function(){save()}),win.nameStorage=nameStorage,module.exports=nameStorage},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){for(var keys=Object.getOwnPropertyNames(defaults),i=0;i<keys.length;i++){var key=keys[i],value=Object.getOwnPropertyDescriptor(defaults,key);value&&value.configurable&&void 0===obj[key]&&Object.defineProperty(obj,key,value)}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass))}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_util=__webpack_require__(1),_util2=_interopRequireDefault(_util),_core=__webpack_require__(4),_core2=_interopRequireDefault(_core),_nameStorage=__webpack_require__(18),_nameStorage2=_interopRequireDefault(_nameStorage);"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var Wap=function(_Core){function Wap(){var opt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,Wap);var image=new Image,config={server:"https://kcart.alipay.com/web/bi.do",cnaServer:"https://log.mmstat.com/5.gif?url=https://kcart.alipay.com/web/1.do?",image:image,eventType:"click",_list:[],fullURL:location.href,seedIdCfg:{pageSeedId:"page",clkSeedId:"clk",calcSeedId:"calc",expoSeedId:"expo",syslogSeedId:"syslog"},ref:document.referrer||"-"};_util2["default"].objectAssign(config,opt);var _this=_possibleConstructorReturn(this,_Core.call(this,config)),_self=_this;return image.onload=function(){return _self._sendAll()},_this}return _inherits(Wap,_Core),Wap.prototype.load=function(callback){var _self=this;/\bcna=/.test(document.cookie)||(_self._ing=!0,_self.image.src=_self.cnaServer),_util2["default"].load(callback)},Wap.prototype.init=function(){var self=this;window.onunload=function(){var pageSpm=self.spmAPos&&self.spmBPos?[self.spmAPos,self.spmBPos].join("."):"";pageSpm&&_nameStorage2["default"].setItem(self.refNameKey,pageSpm)};var refSpm=_nameStorage2["default"].getItem(self.refNameKey);self.config({refSpm:refSpm});var chInfo=_util2["default"].getValue("chInfo")||_util2["default"].getValue("chinfo");!self.chInfo&&chInfo&&self.config({chInfo:chInfo});var cityid=_util2["default"].getValue("cityId");cityid&&self.config({mdata:_extends({},self.mdata,{cityid:cityid})}),self.autoLogPv&&self.call("logPv")},Wap.prototype._sendAll=function(){var _self=this,_list=_self._list,len=_list.length;len>0?_self._send(_list.splice(0,len),!0):_self._ing=!1},Wap.prototype.logPv=function(){var self=this,pageSpm=self.spmAPos&&self.spmBPos?[self.spmAPos,self.spmBPos].join("."):"",params={seedId:self.seedIdCfg.pageSeedId,spmId:pageSpm,param1:self.url,param2:"",param3:"",param4:{}};self.call("remoteLog",params)},Wap.prototype._formatParam=function(_param){var self=this,param=_param||{},spmAPos=self.spmAPos,spmBPos=self.spmBPos,spmId=param.spmId||"",spmAPosrr=spmId.split("."),arrLen=spmAPosrr.length,_self=this,extraParam={version:_self.version,mBizScenario:_self.bizScenario,mPageState:_self.state,role_id:_self.roleId||_self.role_id,fullURL:_self.fullURL};if(self.chInfo&&(extraParam.chInfo=self.chInfo),spmAPos&&spmBPos){if(_param.seedId!==self.seedIdCfg.pageSeedId)switch(arrLen){case 1:if(""===spmId){delete param.spmId;break}param.spmId=[spmAPos,spmBPos,spmId].join(".");break;case 2:param.spmId=[spmAPos,spmBPos,spmId].join(".");break;case 3:break;case 4:break;default:param.param2=spmId,delete param.spmId}}else delete param.spmId;return _self.bizType&&(param.bizType=_self.bizType),!param.param2&&param.spmId&&(param.param2=param.spmId),param.param4?_util2["default"].objectAssign(param.param4,extraParam):param.param4=extraParam,param.param4=_extends({},self.mdata,param.param4),param},Wap.prototype.remoteLog=function(options){var self=this,params=self._formatParam(options),pg=void 0;pg=params.param3?self.url+"?value="+params.param3+"&seed="+params.param2:self.url+"?seed="+params.param2,self.platformType&&(params.param4.mPlatformType=self.platformType);var pageType=params.seedId===self.seedIdCfg.pageSeedId||params.seedId===self.seedIdCfg.expoSeedId?params.seedId:self.seedIdCfg.clkSeedId,_param={page_type:pageType,ref:self.ref,refSpm:self.refSpm,spmId:params.spmId,seed:params.param2,value:params.param3,pg:pg,r:Date.now()};self.debug&&console.log(_param),_util2["default"].objectAssign(_param,params.param4),this._send(_param)},Wap.prototype._send=function(obj,flag){var _self=this,_encode=window.encodeURIComponent;if(flag||!_self._ing){_self._ing=!0;var newObj=obj.length?obj:[obj];_self.image.src=_self.server+"?BIProfile=merge&d="+_encode(JSON.stringify(newObj))}else _self._list.push(obj)},Wap}(_core2["default"]);exports["default"]=Wap,module.exports=exports["default"]},function(module,exports,__webpack_require__){var animaDetect=__webpack_require__(21);module.exports=animaDetect},function(module,exports,__webpack_require__){function toString(object){return Object.prototype.toString.call(object)}function isObject(object){return"[object Object]"===toString(object)}function isFunction(object){return"[object Function]"===toString(object)}function each(object,factory,argument){for(var i=0,l=object.length;i<l&&factory.call(object,object[i],i)!==!1;i++);}function detector(name,expression,ua){var expr=isFunction(expression)?expression.call(null,ua):expression;if(!expr)return null;var info={name:name,version:NA_VERSION,codename:""};"android"===name&&(info.type=ua.indexOf("Mobi")>-1?"phone":"pad"),"ios"===name&&(info.type=ua.indexOf("iPhone")>-1?"phone":"pad");var t=toString(expr);if(expr===!0)return info;if("[object String]"===t){if(ua.indexOf(expr)!==-1)return info}else{if(isObject(expr))return expr.hasOwnProperty("version")&&(info.version=expr.version),info;if(expr.exec){var m=expr.exec(ua);if(m)return m.length>=2&&m[1]?info.version=m[1].replace(/_/g,"."):info.version=NA_VERSION,info}}}function init(ua,patterns,factory,detect){var detected=na;each(patterns,function(pattern){var d=detector(pattern[0],pattern[1],ua);if(d)return detected=d,!1}),factory.call(detect,detected.name,detected.version)}var detect={},NA_VERSION="-1",userAgent=navigator.userAgent||"",appVersion=navigator.appVersion||"",vendor=navigator.vendor||"",re_msie=(window.external,/\b(?:msie |ie |trident\/[0-9].*rv[ :])([0-9.]+)/),CheckApp=__webpack_require__(17),OS=[["wp",function(ua){return ua.indexOf("windows phone ")!==-1?/\bwindows phone (?:os )?([0-9.]+)/:ua.indexOf("xblwp")!==-1?/\bxblwp([0-9.]+)/:ua.indexOf("zunewp")!==-1?/\bzunewp([0-9.]+)/:"windows phone"}],["ios",function(ua){return/\bcpu(?: iphone)? os /.test(ua)?/\bcpu(?: iphone)? os ([0-9._]+)/:ua.indexOf("iph os ")!==-1?/\biph os ([0-9_]+)/:/\bios\b/}],["yunos",/\baliyunos ([0-9.]+)/],["android",/\bandroid[\/\- ]?([0-9.x]+)?/],["linux","linux"]],BROWSER=[["qq",/\bm?qqbrowser\/([0-9.]+)/],["ie",re_msie],["chrome",/ (?:chrome|crios|crmo)\/([0-9.]+)/],["uc",function(ua){return ua.indexOf("ucbrowser/")>=0?/\bucbrowser\/([0-9.]+)/:/\buc\/[0-9]/.test(ua)?/\buc\/([0-9.]+)/:ua.indexOf("ucweb")>=0?/\bucweb[\/]?([0-9.]+)?/:/\b(?:ucbrowser|uc)\b/}],["android",function(ua){if(ua.indexOf("android")!==-1)return/\bversion\/([0-9.]+(?: beta)?)/}],["safari",/\bversion\/([0-9.]+(?: beta)?)(?: mobile(?:\/[a-z0-9]+)?)? safari\//],["webview",/\bcpu(?: iphone)? os (?:[0-9._]+).+\bapplewebkit\b/]],na={name:"na",version:NA_VERSION},parse=function(ua){ua=(ua||"").toLowerCase();var d={};return init(ua,OS,function(name,version){var v=parseFloat(version);d.os={name:name,version:v,fullVersion:version},d.os[name]=v},d),init(ua,BROWSER,function(name,version){var v=parseFloat(version);d.browser={name:name,version:v,fullVersion:version},d.browser[name]=v},d),d};detect=parse(userAgent+" "+appVersion+" "+vendor),detect.parse=parse,detect._checkApp=CheckApp,detect.app=detect._checkApp(userAgent),module.exports=detect},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){for(var keys=Object.getOwnPropertyNames(defaults),i=0;i<keys.length;i++){var key=keys[i],value=Object.getOwnPropertyDescriptor(defaults,key);value&&value.configurable&&void 0===obj[key]&&Object.defineProperty(obj,key,value)}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass))}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _util=__webpack_require__(1),_util2=_interopRequireDefault(_util),_wap=__webpack_require__(19),_wap2=_interopRequireDefault(_wap),_animaDetect=__webpack_require__(20),_animaDetect2=_interopRequireDefault(_animaDetect),Qn=function(_Wap){function Qn(){return _classCallCheck(this,Qn),_possibleConstructorReturn(this,_Wap.apply(this,arguments))}return _inherits(Qn,_Wap),Qn.prototype.load=function(callback){var _self=this;/\bcna=/.test(document.cookie)||(_self._ing=!0,_self.image.src=_self.cnaServer),_util2["default"].load(function(){var WindVane=window.WindVane;WindVane&&WindVane.call&&"function"==typeof WindVane.call?window.WindVane.call("QianNiu","getUserInfo",{},function(e){_self.config({role_id:e.user_id}),callback()},function(e){console.log("Tracert \u672a\u83b7\u53d6\u5230\u652f\u4ed8\u5b9duid",e),callback()}):callback()})},Qn.prototype.remoteLog=function(options){var self=this,params=self._formatParam(options),pg=void 0;pg=params.param3?self.url+"?value="+params.param3+"&seed="+params.param2:self.url+"?seed="+params.param2,self.platformType&&(params.param4.mPlatformType=self.platformType);var pageType=params.seedId===self.seedIdCfg.pageSeedId||params.seedId===self.seedIdCfg.expoSeedId?params.seedId:self.seedIdCfg.clkSeedId,_param={page_type:pageType,ref:self.ref,refSpm:self.refSpm,spmId:params.spmId,seed:params.param2,value:params.param3,pg:pg,browser:_animaDetect2["default"].app.name+"/"+_animaDetect2["default"].app.version+"|"+_animaDetect2["default"].browser.name+"/"+_animaDetect2["default"].browser.fullVersion+"|"+_animaDetect2["default"].os.name+"/"+_animaDetect2["default"].os.fullVersion,r:Date.now()};self.debug&&console.log(_param),_util2["default"].objectAssign(_param,params.param4),this._send(_param)},Qn}(_wap2["default"]);exports["default"]=Qn,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){for(var keys=Object.getOwnPropertyNames(defaults),i=0;i<keys.length;i++){var key=keys[i],value=Object.getOwnPropertyDescriptor(defaults,key);value&&value.configurable&&void 0===obj[key]&&Object.defineProperty(obj,key,value)}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass))}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_core=__webpack_require__(4),_core2=_interopRequireDefault(_core),_util=__webpack_require__(1),_util2=_interopRequireDefault(_util),_nameStorage=__webpack_require__(18),_nameStorage2=_interopRequireDefault(_nameStorage),Tb=function(_Core){function Tb(){return _classCallCheck(this,Tb),_possibleConstructorReturn(this,_Core.apply(this,arguments))}return _inherits(Tb,_Core),Tb.prototype.init=function(){var self=this;window.onunload=function(){var pageSpm=self.spmAPos&&self.spmBPos?[self.spmAPos,self.spmBPos].join("."):"";pageSpm&&_nameStorage2["default"].setItem(self.refNameKey,pageSpm)};var refSpm=_nameStorage2["default"].getItem(self.refNameKey);self.config({refSpm:refSpm}),this.autoLogPv&&this.call("logPv")},Tb.prototype.logPv=function(){var self=this,pageSpm=self.spmAPos&&self.spmBPos?[self.spmAPos,self.spmBPos].join("."):"",params={seedId:self.seedIdCfg.pageSeedId,param1:self.url,param2:pageSpm,param3:"",param4:{}};self.call("remoteLog",params)},Tb.prototype.load=function(callback){_util2["default"].load(function(){window.WindVane?callback():document.addEventListener("WindVaneReady",callback,!1)})},Tb.prototype._formatParam=function(_param){var self=this,param=_param||{},spmAPos=self.spmAPos,spmBPos=self.spmBPos,spmId=param.spmId||"",spmAPosrr=spmId.split("."),arrLen=spmAPosrr.length,_self=this,extraParam={version:_self.version,mBizScenario:_self.bizScenario,mPageState:_self.state,refSpm:_self.refSpm,mPlatformType:_self.platformType,role_id:_self.roleId||_self.role_id,fullURL:_self.fullURL};if(spmAPos&&spmBPos){if(_param.seedId!==self.seedIdCfg.pageSeedId)switch(arrLen){case 1:if(""===spmId){delete param.spmId;break}param.spmId=[spmAPos,spmBPos,spmId].join(".");break;case 2:param.spmId=[spmAPos,spmBPos,spmId].join(".");break;case 3:break;case 4:break;default:param.param2=spmId,delete param.spmId}}else delete param.spmId;return _self.bizType&&(param.bizType=_self.bizType),param.param4?_util2["default"].objectAssign(param.param4,extraParam):param.param4=extraParam,param.param4=_extends({},self.mdata,param.param4),param},Tb.prototype.remoteLog=function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},param=this._formatParam(options);param.param3&&(param.param4=param.param4||{},param.param4.param3=param.param3);var tbParams={eventId:64403,arg1:param.seedId,arg2:param.param1,arg3:param.spmId||param.param2,args:param.param4};return window.WindVane?(this.debug&&console.log(tbParams),void window.WindVane.call("Base","commitUTEvent",tbParams)):void console.warn("\u68c0\u6d4b\u5230\u624b\u6dd8\u73af\u5883\uff0c\u8bf7\u5f15\u5165Windvane\uff0c\u5426\u5219\u57cb\u70b9\u5c06\u5931\u6548")},Tb}(_core2["default"]);exports["default"]=Tb,module.exports=exports["default"]}]);